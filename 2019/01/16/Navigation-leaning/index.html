<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Navigation,fragment," />










<meta name="description" content="æ¦‚å¿µå¯¼èˆªæ˜¯åº”ç”¨ç¨‹åºè®¾è®¡çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚é€šè¿‡å¯¼èˆªï¼Œæ‚¨å¯ä»¥è®¾è®¡å…è®¸ç”¨æˆ·åœ¨åº”ç”¨å†…çš„ä¸åŒå†…å®¹åŒºåŸŸç§»åŠ¨ï¼Œè¿›å‡ºå’Œé€€å‡ºçš„äº¤äº’ã€‚ å¯¼èˆªæ¶æ„ç»„ä»¶å¯¼èˆªæ¶æ„ç»„ä»¶å¯å¸®åŠ©æ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°å¸¸è§ä½†å¤æ‚çš„å¯¼èˆªè¦æ±‚ï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´è½»æ¾åœ°ä¸ºç”¨æˆ·æä¾›ä¸€è‡´ä¸”å¯é¢„æµ‹çš„ä½“éªŒã€‚ å¯¼èˆªå¯å¤„ç†åœ¨åº”ç”¨ç¨‹åºçš„ç›®çš„åœ°ä¹‹é—´å¯¼èˆª- ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­ç”¨æˆ·å¯ä»¥å¯¼èˆªåˆ°ä»»ä½•ä½ç½®ã€‚è™½ç„¶ç›®æ ‡é€šå¸¸é€šè¿‡Fragmentsä»£è¡¨ç‰¹å®šçš„å±å¹•ï¼Œä½†å¯¼èˆªæ¶æ„ç»„ä»¶æ”¯æŒä¸‹é¢åˆ—å‡ºçš„å…¶ä»–">
<meta name="keywords" content="Navigation,fragment">
<meta property="og:type" content="article">
<meta property="og:title" content="Navigationå®˜æ–¹è¯‘æ–‡">
<meta property="og:url" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/index.html">
<meta property="og:site_name" content="CallteFoot&#39;s blog">
<meta property="og:description" content="æ¦‚å¿µå¯¼èˆªæ˜¯åº”ç”¨ç¨‹åºè®¾è®¡çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚é€šè¿‡å¯¼èˆªï¼Œæ‚¨å¯ä»¥è®¾è®¡å…è®¸ç”¨æˆ·åœ¨åº”ç”¨å†…çš„ä¸åŒå†…å®¹åŒºåŸŸç§»åŠ¨ï¼Œè¿›å‡ºå’Œé€€å‡ºçš„äº¤äº’ã€‚ å¯¼èˆªæ¶æ„ç»„ä»¶å¯¼èˆªæ¶æ„ç»„ä»¶å¯å¸®åŠ©æ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°å¸¸è§ä½†å¤æ‚çš„å¯¼èˆªè¦æ±‚ï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´è½»æ¾åœ°ä¸ºç”¨æˆ·æä¾›ä¸€è‡´ä¸”å¯é¢„æµ‹çš„ä½“éªŒã€‚ å¯¼èˆªå¯å¤„ç†åœ¨åº”ç”¨ç¨‹åºçš„ç›®çš„åœ°ä¹‹é—´å¯¼èˆª- ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­ç”¨æˆ·å¯ä»¥å¯¼èˆªåˆ°ä»»ä½•ä½ç½®ã€‚è™½ç„¶ç›®æ ‡é€šå¸¸é€šè¿‡Fragmentsä»£è¡¨ç‰¹å®šçš„å±å¹•ï¼Œä½†å¯¼èˆªæ¶æ„ç»„ä»¶æ”¯æŒä¸‹é¢åˆ—å‡ºçš„å…¶ä»–">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-grap.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-editor.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-destination-and-placeholder_2x.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-actioncircle_2x.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-connected_2x.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/top-app-bar.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-drawer.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/bottom-navigation.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-pre-nestedgraph_2x.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-nestedgraph_2x.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-conditional-graph.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-global-action.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-migrate1.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-migrate2.png">
<meta property="og:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-migrate3.png">
<meta property="og:updated_time" content="2019-01-19T05:59:04.185Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Navigationå®˜æ–¹è¯‘æ–‡">
<meta name="twitter:description" content="æ¦‚å¿µå¯¼èˆªæ˜¯åº”ç”¨ç¨‹åºè®¾è®¡çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚é€šè¿‡å¯¼èˆªï¼Œæ‚¨å¯ä»¥è®¾è®¡å…è®¸ç”¨æˆ·åœ¨åº”ç”¨å†…çš„ä¸åŒå†…å®¹åŒºåŸŸç§»åŠ¨ï¼Œè¿›å‡ºå’Œé€€å‡ºçš„äº¤äº’ã€‚ å¯¼èˆªæ¶æ„ç»„ä»¶å¯¼èˆªæ¶æ„ç»„ä»¶å¯å¸®åŠ©æ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°å¸¸è§ä½†å¤æ‚çš„å¯¼èˆªè¦æ±‚ï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´è½»æ¾åœ°ä¸ºç”¨æˆ·æä¾›ä¸€è‡´ä¸”å¯é¢„æµ‹çš„ä½“éªŒã€‚ å¯¼èˆªå¯å¤„ç†åœ¨åº”ç”¨ç¨‹åºçš„ç›®çš„åœ°ä¹‹é—´å¯¼èˆª- ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­ç”¨æˆ·å¯ä»¥å¯¼èˆªåˆ°ä»»ä½•ä½ç½®ã€‚è™½ç„¶ç›®æ ‡é€šå¸¸é€šè¿‡Fragmentsä»£è¡¨ç‰¹å®šçš„å±å¹•ï¼Œä½†å¯¼èˆªæ¶æ„ç»„ä»¶æ”¯æŒä¸‹é¢åˆ—å‡ºçš„å…¶ä»–">
<meta name="twitter:image" content="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/images/navigation-grap.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/"/>





  <title>Navigationå®˜æ–¹è¯‘æ–‡ | CallteFoot's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">CallteFoot's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Victory belongs to the most persevering.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://cattlefoot.github.io/2019/01/16/Navigation-leaning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CallteFoot">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CallteFoot's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Navigationå®˜æ–¹è¯‘æ–‡</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-01-16T10:12:08+08:00">
                2019-01-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>å¯¼èˆªæ˜¯åº”ç”¨ç¨‹åºè®¾è®¡çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚é€šè¿‡å¯¼èˆªï¼Œæ‚¨å¯ä»¥è®¾è®¡å…è®¸ç”¨æˆ·åœ¨åº”ç”¨å†…çš„ä¸åŒå†…å®¹åŒºåŸŸç§»åŠ¨ï¼Œè¿›å‡ºå’Œé€€å‡ºçš„äº¤äº’ã€‚</p>
<h4 id="å¯¼èˆªæ¶æ„ç»„ä»¶"><a href="#å¯¼èˆªæ¶æ„ç»„ä»¶" class="headerlink" title="å¯¼èˆªæ¶æ„ç»„ä»¶"></a>å¯¼èˆªæ¶æ„ç»„ä»¶</h4><p>å¯¼èˆªæ¶æ„ç»„ä»¶å¯å¸®åŠ©æ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°å¸¸è§ä½†å¤æ‚çš„å¯¼èˆªè¦æ±‚ï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´è½»æ¾åœ°ä¸ºç”¨æˆ·æä¾›ä¸€è‡´ä¸”å¯é¢„æµ‹çš„ä½“éªŒã€‚</p>
<p>å¯¼èˆªå¯å¤„ç†åœ¨åº”ç”¨ç¨‹åºçš„ç›®çš„åœ°ä¹‹é—´å¯¼èˆª- ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­ç”¨æˆ·å¯ä»¥å¯¼èˆªåˆ°ä»»ä½•ä½ç½®ã€‚è™½ç„¶ç›®æ ‡é€šå¸¸é€šè¿‡Fragmentsä»£è¡¨ç‰¹å®šçš„å±å¹•ï¼Œä½†å¯¼èˆªæ¶æ„ç»„ä»¶æ”¯æŒä¸‹é¢åˆ—å‡ºçš„å…¶ä»–ç›®æ ‡ç±»å‹ï¼š</p>
<ul>
<li>Activities</li>
<li>å¯¼èˆªå›¾å’Œå­å›¾ - å½“ç›®æ ‡æ˜¯å›¾å½¢æˆ–å­å›¾æ—¶ï¼Œç”¨æˆ·å¯¼èˆªåˆ°è¯¥å›¾æˆ–å­å›¾çš„èµ·å§‹ç›®æ ‡</li>
<li><a href="https://developer.android.com/topic/libraries/architecture/navigation/navigation-add-new.html" target="_blank" rel="noopener">è‡ªè®¢ç›®æ ‡ç±»å‹</a></li>
</ul>
<p>è¿™äº›ç›®çš„åœ°é€šè¿‡æ“ä½œè¿æ¥ï¼Œä¸€ç³»åˆ—çš„ç›®çš„åœ°å’Œè¿æ¥æ“ä½œç»„æˆåº”ç”¨ç¨‹åºçš„å¯¼èˆªå›¾ã€‚</p>
<p>å¯¼èˆªæ¶æ„ç»„ä»¶æä¾›äº†è®¸å¤šå…¶ä»–å¥½å¤„ï¼ŒåŒ…æ‹¬ï¼š  </p>
<ul>
<li>å¤„ç†Fragmentäº‹åŠ¡</li>
<li>é»˜è®¤æƒ…å†µä¸‹æ­£ç¡®å¤„ç†å‘ä¸Šå’Œå‘åæ“ä½œ</li>
<li>ä¸ºåŠ¨ç”»å’Œè¿‡æ¸¡æä¾›æ ‡å‡†åŒ–èµ„æº</li>
<li>å°†æ·±å±‚é“¾æ¥è§†ä¸ºä¸€çº§æ“ä½œ</li>
<li>åŒ…æ‹¬å¯¼èˆªUIæ¨¡å¼ï¼Œä¾‹å¦‚å¯¼èˆªæŠ½å±‰å’Œåº•éƒ¨å¯¼èˆªï¼Œåªéœ€æœ€å°‘çš„é¢å¤–å·¥ä½œ</li>
<li>åœ¨å¯¼èˆªä¼ é€’å‚æ•°æ—¶æä¾›ç±»å‹å®‰å…¨æ€§</li>
<li>ä½¿ç”¨Android Studioçš„<a href="https://developer.android.com/topic/libraries/architecture/navigation/navigation-implementing" target="_blank" rel="noopener">å¯¼èˆªç¼–è¾‘å™¨</a>å¯è§†åŒ–å’Œç¼–è¾‘å¯¼èˆªå›¾</li>
</ul>
<p>âš ï¸ï¼šå¦‚æœè¦å°†å¯¼èˆªæ¶æ„ç»„ä»¶ä¸Android Studioä¸€èµ·ä½¿ç”¨ï¼Œåˆ™å¿…é¡»ä½¿ç”¨<a href="https://developer.android.com/studio/preview/" target="_blank" rel="noopener">Android Studio 3.2 Canary 14æˆ–æ›´é«˜ç‰ˆæœ¬</a>ã€‚</p>
<h4 id="å¯¼èˆªåŸç†"><a href="#å¯¼èˆªåŸç†" class="headerlink" title="å¯¼èˆªåŸç†"></a>å¯¼èˆªåŸç†</h4><p>å¯¼èˆªæ¶æ„ç»„ä»¶åŸºäºä»¥ä¸‹è®¾è®¡åŸåˆ™ï¼š</p>
<h5 id="å›ºå®šèµ·å§‹ç›®çš„åœ°"><a href="#å›ºå®šèµ·å§‹ç›®çš„åœ°" class="headerlink" title="å›ºå®šèµ·å§‹ç›®çš„åœ°"></a>å›ºå®šèµ·å§‹ç›®çš„åœ°</h5><p>åº”ç”¨åº”å…·æœ‰å›ºå®šçš„èµ·å§‹ç›®çš„åœ°ï¼Œå³ç”¨æˆ·ä»å¯åŠ¨å™¨å¯åŠ¨åº”ç”¨æ—¶çœ‹åˆ°çš„å±å¹•ï¼Œä»¥åŠç”¨æˆ·åœ¨æŒ‰ä¸‹åé€€æŒ‰é’®è¿”å›å¯åŠ¨å™¨ä¹‹å‰çœ‹åˆ°çš„æœ€åä¸€ä¸ªå±å¹•ã€‚</p>
<p>âš ï¸ï¼šåº”ç”¨å¯èƒ½å…·æœ‰ä¸€æ¬¡æ€§è®¾ç½®æˆ–ä¸€ç³»åˆ—ç™»å½•å±å¹•ã€‚è¿™äº›æ¡ä»¶å±å¹•ä¸åº”è¢«è§†ä¸ºæ‚¨åº”ç”¨çš„èµ·å§‹ç›®çš„åœ°ã€‚</p>
<h5 id="å¯¼èˆªçŠ¶æ€åº”è¯¥é€šè¿‡å †æ ˆç›®çš„åœ°æ¥è¡¨ç¤º"><a href="#å¯¼èˆªçŠ¶æ€åº”è¯¥é€šè¿‡å †æ ˆç›®çš„åœ°æ¥è¡¨ç¤º" class="headerlink" title="å¯¼èˆªçŠ¶æ€åº”è¯¥é€šè¿‡å †æ ˆç›®çš„åœ°æ¥è¡¨ç¤º"></a>å¯¼èˆªçŠ¶æ€åº”è¯¥é€šè¿‡å †æ ˆç›®çš„åœ°æ¥è¡¨ç¤º</h5><p>ä¸€ä¸ªå¯¼èˆªå †æ ˆåº”è¯¥æœ‰åº”ç”¨ç¨‹åºçš„èµ·å§‹ç›®æ ‡åœ¨å †æ ˆçš„åº•éƒ¨ï¼Œå¹¶åœ¨å †æ ˆé¡¶éƒ¨çš„å½“å‰ç›®æ ‡ã€‚</p>
<p>æ›´æ”¹å¯¼èˆªå †æ ˆçš„æ“ä½œåº”å§‹ç»ˆåœ¨å¯¼èˆªå †æ ˆçš„é¡¶éƒ¨æ“ä½œï¼Œæ–¹æ³•æ˜¯å°†æ–°ç›®æ ‡æ¨é€åˆ°å †æ ˆé¡¶éƒ¨æˆ–ä»å †æ ˆé¡¶éƒ¨å¼¹å‡ºæœ€é¡¶å±‚ç›®æ ‡ã€‚</p>
<h5 id="â€œå‘ä¸Šâ€æŒ‰é’®æ°¸è¿œä¸ä¼šé€€å‡ºæ‚¨çš„åº”ç”¨"><a href="#â€œå‘ä¸Šâ€æŒ‰é’®æ°¸è¿œä¸ä¼šé€€å‡ºæ‚¨çš„åº”ç”¨" class="headerlink" title="â€œå‘ä¸Šâ€æŒ‰é’®æ°¸è¿œä¸ä¼šé€€å‡ºæ‚¨çš„åº”ç”¨"></a>â€œå‘ä¸Šâ€æŒ‰é’®æ°¸è¿œä¸ä¼šé€€å‡ºæ‚¨çš„åº”ç”¨</h5><p>å¦‚æœç”¨æˆ·ä½äºèµ·å§‹ç›®çš„åœ°ï¼Œåˆ™ä¸åº”æ˜¾ç¤ºâ€œå‘ä¸Šâ€æŒ‰é’®ã€‚å½“æ‚¨çš„åº”ç”¨ç¨‹åºä½¿ç”¨å…¶ä»–åº”ç”¨ç¨‹åºä»»åŠ¡çš„æ·±å±‚é“¾æ¥å¯åŠ¨æ—¶ï¼ŒUpåº”è¯¥å°†ç”¨æˆ·å¸¦åˆ°åˆ†å±‚çˆ¶ç›®æ ‡ï¼Œè€Œä¸æ˜¯è¿”å›åˆ°å…¶ä»–åº”ç”¨ç¨‹åºã€‚</p>
<h5 id="åœ¨åº”ç”¨ç¨‹åºçš„ä»»åŠ¡ä¸­ï¼Œå‘ä¸Šå’Œå‘åç›¸åŒ"><a href="#åœ¨åº”ç”¨ç¨‹åºçš„ä»»åŠ¡ä¸­ï¼Œå‘ä¸Šå’Œå‘åç›¸åŒ" class="headerlink" title="åœ¨åº”ç”¨ç¨‹åºçš„ä»»åŠ¡ä¸­ï¼Œå‘ä¸Šå’Œå‘åç›¸åŒ"></a>åœ¨åº”ç”¨ç¨‹åºçš„ä»»åŠ¡ä¸­ï¼Œå‘ä¸Šå’Œå‘åç›¸åŒ</h5><p>å½“ç³»ç»Ÿâ€œåé€€â€æŒ‰é’®ä¸ä¼šé€€å‡ºæ‚¨çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œä¾‹å¦‚å½“æ‚¨æ‰§è¡Œè‡ªå·±çš„ä»»åŠ¡è€Œä¸æ˜¯å¯åŠ¨ç›®æ ‡æ—¶ï¼Œâ€œå‘ä¸Šâ€æŒ‰é’®çš„åŠŸèƒ½åº”ä¸ç³»ç»Ÿâ€œåé€€â€æŒ‰é’®å®Œå…¨ç›¸åŒã€‚</p>
<h5 id="æ·±åº¦é“¾æ¥å’Œå¯¼èˆªåˆ°ç›®æ ‡åº”è¯¥äº§ç”Ÿç›¸åŒçš„å †æ ˆ"><a href="#æ·±åº¦é“¾æ¥å’Œå¯¼èˆªåˆ°ç›®æ ‡åº”è¯¥äº§ç”Ÿç›¸åŒçš„å †æ ˆ" class="headerlink" title="æ·±åº¦é“¾æ¥å’Œå¯¼èˆªåˆ°ç›®æ ‡åº”è¯¥äº§ç”Ÿç›¸åŒçš„å †æ ˆ"></a>æ·±åº¦é“¾æ¥å’Œå¯¼èˆªåˆ°ç›®æ ‡åº”è¯¥äº§ç”Ÿç›¸åŒçš„å †æ ˆ</h5><p>ç”¨æˆ·åº”è¯¥èƒ½å¤Ÿä½¿ç”¨â€œåé€€â€æˆ–â€œä¸Šç§»â€æŒ‰é’®ï¼Œæ— è®ºä»–ä»¬å¦‚ä½•åˆ°è¾¾ç›®çš„åœ°ï¼Œéƒ½å¯ä»¥é€šè¿‡ç›®çš„åœ°è¿”å›åˆ°èµ·å§‹ç›®çš„åœ°ã€‚<br>æ·±åº¦é“¾æ¥æ—¶ï¼Œå°†åˆ é™¤ä»»ä½•ç°æœ‰çš„å¯¼èˆªå †æ ˆï¼Œå¹¶æ›¿æ¢ä¸ºæ·±å±‚é“¾æ¥çš„å¯¼èˆªå †æ ˆã€‚</p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>é€šè¿‡å¯¼èˆªç»„ä»¶å®ç°å¯¼èˆªï¼ŒJetpackçš„æ¶æ„ç»„ä»¶é€šè¿‡æä¾›ä¸€ç»„å¤„ç†å¤§éƒ¨åˆ†ç»†èŠ‚çš„å¯¼èˆªç»„ä»¶ï¼Œå¯ä»¥è½»æ¾å®ç°åº”ç”¨å†…å¯¼èˆªã€‚</p>
<p>ä½¿ç”¨Navigationï¼Œæ‚¨å¯ä»¥åˆ›å»ºå¯¼èˆªå›¾ï¼Œè¿™æ˜¯ä¸€ç§XMLèµ„æºï¼Œè¡¨ç¤ºåº”ç”¨ç¨‹åºä¸­çš„å„ä¸ªç›®æ ‡èŠ‚ç‚¹ä»¥åŠè¿æ¥èŠ‚ç‚¹çš„æ“ä½œã€‚</p>
<p>ä¸‹å›¾æ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹åº”ç”¨ç¨‹åºçš„å¯¼èˆªå›¾çš„ç›´è§‚è¡¨ç¤ºï¼Œè¯¥åº”ç”¨ç¨‹åºåŒ…å«é€šè¿‡5ä¸ªæ“ä½œè¿æ¥çš„6ä¸ªç›®æ ‡ã€‚<br><img src="./images/navigation-grap.png" alt="å¯¼èˆªå›¾"></p>
<p>ä¸€ä¸ªç›®æ ‡å°±æ˜¯ä½ å¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºå¯¼èˆªåˆ°ä»»ä½•åœ°æ–¹ã€‚è™½ç„¶ç›®æ ‡é€šå¸¸æ˜¯è¡¨ç¤ºç‰¹å®šå±å¹•çš„Fragmentsï¼Œä½†å¯¼èˆªæ”¯æŒå…¶ä»–ç›®æ ‡ç±»å‹ï¼š</p>
<ul>
<li>Activities</li>
<li>å¯¼èˆªå›¾å’Œå­å›¾-å½“ç›®æ ‡æ˜¯å›¾å½¢æˆ–å­å›¾æ—¶ï¼Œå¯¼èˆªåˆ°è¯¥å›¾æˆ–å­å›¾çš„èµ·å§‹ç›®æ ‡</li>
<li><a href="https://developer.android.com/topic/libraries/architecture/navigation/navigation-add-new.html" target="_blank" rel="noopener">è‡ªè®¢ç›®æ ‡ç±»å‹</a><br>âš ï¸ï¼šå¯¼èˆªç»„ä»¶ä¸“ä¸ºå…·æœ‰ä¸€ä¸ªå…·æœ‰å¤šä¸ªFragmentç›®æ ‡çš„ä¸»è¦activityçš„åº”ç”¨ç¨‹åºè€Œè®¾è®¡ã€‚ä¸»activityæ‰˜ç®¡å¯¼èˆªå›¾ï¼Œå¹¶è´Ÿè´£æ ¹æ®éœ€è¦äº¤æ¢ç›®æ ‡ã€‚åœ¨å…·æœ‰å¤šä¸ªactivityç›®æ ‡çš„åº”ç”¨ä¸­ï¼Œæ¯ä¸ªé™„åŠ activityéƒ½ä¼šæ‰˜ç®¡è‡ªå·±çš„å¯¼èˆªå›¾ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://developer.android.com/topic/libraries/architecture/navigation/navigation-implementing#Modify-activity" target="_blank" rel="noopener">ä¿®æ”¹æ´»åŠ¨ä»¥ä¸»æŒå¯¼èˆª</a> ã€‚</li>
</ul>
<h4 id="ä¸ºé¡¹ç›®å¼•å…¥å¯¼èˆªç»„ä»¶"><a href="#ä¸ºé¡¹ç›®å¼•å…¥å¯¼èˆªç»„ä»¶" class="headerlink" title="ä¸ºé¡¹ç›®å¼•å…¥å¯¼èˆªç»„ä»¶"></a>ä¸ºé¡¹ç›®å¼•å…¥å¯¼èˆªç»„ä»¶</h4><p>âš ï¸ï¼šå¦‚æœæ‚¨è¦ä½¿ç”¨Android Studioå¯¼èˆªï¼Œåˆ™å¿…é¡»ä½¿ç”¨ <a href="https://developer.android.com/studio/preview/" target="_blank" rel="noopener">Android Studio 3.2 Canary 14æˆ–æ›´é«˜ç‰ˆæœ¬</a>ã€‚</p>
<p>è¦åœ¨é¡¹ç›®ä¸­åŒ…å«å¯¼èˆªæ”¯æŒï¼Œè¯·å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°åº”ç”¨ç¨‹åºçš„ build.gradleæ–‡ä»¶ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    def nav_version = <span class="string">"1.0.0-alpha09"</span></span><br><span class="line"></span><br><span class="line">    implementation <span class="string">"android.arch.navigation:navigation-fragment:$nav_version"</span> <span class="comment">// use -ktx for Kotlin</span></span><br><span class="line">    implementation <span class="string">"android.arch.navigation:navigation-ui:$nav_version"</span> <span class="comment">// use -ktx for Kotlin</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ‰å…³å‘é¡¹ç›®æ·»åŠ å…¶ä»–ä½“ç³»ç»“æ„ç»„ä»¶çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…å‘é¡¹ç›® <a href="https://developer.android.com/topic/libraries/architecture/adding-components#navigation" target="_blank" rel="noopener">æ·»åŠ ç»„ä»¶</a>ã€‚</p>
<h4 id="åˆ›å»ºå¯¼èˆªå›¾"><a href="#åˆ›å»ºå¯¼èˆªå›¾" class="headerlink" title="åˆ›å»ºå¯¼èˆªå›¾"></a>åˆ›å»ºå¯¼èˆªå›¾</h4><p>è¦å‘é¡¹ç›®æ·»åŠ å¯¼èˆªå›¾ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>åœ¨â€œé¡¹ç›®â€çª—å£ä¸­ï¼Œå³é”®å•å‡»è¯¥resç›®å½•ï¼Œç„¶åé€‰æ‹© <strong>New &gt; Android Resource File</strong>ã€‚å‡ºç° <strong>New Resource File</strong> å¯¹è¯æ¡†ã€‚</li>
<li>åœ¨ <strong> File name</strong> å­—æ®µä¸­é”®å…¥åç§°ï¼Œä¾‹å¦‚â€œnav_graphâ€ã€‚</li>
<li>ä» <strong>Resource type</strong> ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹© <strong>Navigation</strong>ã€‚</li>
<li><p>å•å‡» <strong>OK</strong> ã€‚å‘ç”Ÿä»¥ä¸‹æƒ…å†µï¼š</p>
<ul>
<li>åœ¨navigationç›®å½•ä¸­åˆ›å»ºèµ„æºresç›®å½•ã€‚</li>
<li>nav_graph.xmlåœ¨å¯¼èˆªç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ã€‚</li>
<li>è¯¥ nav_graph.xmlæ–‡ä»¶å°†åœ¨å¯¼èˆªç¼–è¾‘å™¨ä¸­æ‰“å¼€ã€‚æ­¤XMLæ–‡ä»¶åŒ…å«å¯¼èˆªå›¾ã€‚</li>
</ul>
</li>
<li><p>å•å‡» <strong>Text</strong> é€‰é¡¹å¡ä»¥åˆ‡æ¢åˆ°XMLæ–‡æœ¬è§†å›¾ã€‚æ‚¨åº”è¯¥çœ‹åˆ°ä¸€ä¸ªç©ºçš„å¯¼èˆªå›¾ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">navigation</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">navigation</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>å•å‡» <strong>Design</strong> è¿”å› Navigation Editorã€‚</li>
</ol>
<h4 id="æµè§ˆå¯¼èˆªç¼–è¾‘å™¨"><a href="#æµè§ˆå¯¼èˆªç¼–è¾‘å™¨" class="headerlink" title="æµè§ˆå¯¼èˆªç¼–è¾‘å™¨"></a>æµè§ˆå¯¼èˆªç¼–è¾‘å™¨</h4><p>åœ¨Navigation Editorä¸­ï¼Œæ‚¨å¯ä»¥ç›´è§‚åœ°ç¼–è¾‘å¯¼èˆªå›¾ï¼Œè€Œä¸æ˜¯ç›´æ¥ç¼–è¾‘åŸºç¡€XMLã€‚<br><img src="./images/navigation-editor.png" alt="å¯¼èˆªç¼–è¾‘å™¨"></p>
<ul>
<li>ç›®çš„åœ°ï¼šåˆ—å‡ºå¯¼èˆªä¸»æœºå’Œå½“å‰ä½äºâ€œ æ›²çº¿å›¾ç¼–è¾‘å™¨â€ä¸­çš„æ‰€æœ‰ç›®çš„åœ°ã€‚</li>
<li>å›¾è¡¨ç¼–è¾‘å™¨ï¼šåŒ…å«å¯¼èˆªå›¾çš„å¯è§†åŒ–è¡¨ç¤ºã€‚</li>
<li>å±æ€§ï¼šæ˜¾ç¤ºå¯¼èˆªå›¾ä¸­å½“å‰æ‰€é€‰é¡¹çš„å±æ€§ã€‚</li>
</ul>
<h4 id="åˆ›å»ºç›®çš„åœ°"><a href="#åˆ›å»ºç›®çš„åœ°" class="headerlink" title="åˆ›å»ºç›®çš„åœ°"></a>åˆ›å»ºç›®çš„åœ°</h4><p>åˆ›å»ºå¯¼èˆªå›¾çš„ç¬¬ä¸€æ­¥æ˜¯è¯†åˆ«å’Œåˆ›å»ºåº”ç”¨çš„å„ä¸ªç›®æ ‡ã€‚æ‚¨å¯ä»¥åœ¨ç°æœ‰é¡¹ç›®ä¸­çš„Fragmentså’ŒActivitiesä¸­åˆ›å»ºç›®æ ‡ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå ä½ç¬¦ç›®æ ‡ï¼Œä»¥åå¯ä»¥ä½¿ç”¨Fragmentsæˆ–Activitiesæ›¿æ¢å®ƒä»¬ã€‚</p>
<p>å¦‚æœæ‚¨è¦å°†ç°æœ‰ç‰‡æ®µæˆ–æ´»åŠ¨æ·»åŠ åˆ°å¯¼èˆªå›¾ä¸­ï¼Œæˆ–è€…å¦‚æœè¦æ·»åŠ å ä½ç¬¦ï¼Œè¯·å•å‡» <strong>New Destination</strong> â•ï¼Œç„¶ååœ¨ä¸‹æ‹‰åˆ—è¡¨ä¸­å•å‡»ç›¸åº”çš„ç‰‡æ®µï¼Œæ´»åŠ¨æˆ–å ä½ç¬¦ç›®æ ‡ã€‚å‡ºç°ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨ <strong>Design</strong> è§†å›¾ä¸­æŸ¥çœ‹ç›®æ ‡çš„é¢„è§ˆä»¥åŠå¯¼èˆªå›¾çš„â€œ æ–‡æœ¬â€è§†å›¾ä¸­çš„ç›¸åº”XML ã€‚</p>
<p>è¦åˆ›å»ºæ–°çš„ç›®æ ‡ç±»å‹ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š  </p>
<ol>
<li>åœ¨å¯¼èˆªç¼–è¾‘å™¨ä¸­ï¼Œå•å‡» <strong>New Destination</strong> â•ï¼Œç„¶åå•å‡» <strong>Create blank destination</strong> ã€‚</li>
<li>åœ¨å‡ºç°çš„ <strong>New Android Component </strong> å¯¹è¯æ¡†ä¸­ï¼Œè¾“å…¥ <strong>Fragment Name</strong> ã€‚è¿™æ˜¯Fragmentç±»çš„åç§°ã€‚</li>
<li>è¦è®©Android Studioä¸ºFragmentåˆ›å»ºç›¸åº”çš„å¸ƒå±€èµ„æºæ–‡ä»¶ï¼Œè¯·é€‰ä¸­ <strong>Create layout XML</strong> æ—è¾¹çš„æ¡†ï¼Œç„¶ååœ¨ <strong>Fragment Layout Name</strong> å­—æ®µä¸­è¾“å…¥èµ„æºåç§°ã€‚</li>
<li>åœ¨ <strong>Source Language</strong> ä¸‹æ‹‰åˆ—è¡¨ä¸­ï¼Œä¸ºç±»æºæ–‡ä»¶é€‰æ‹©Kotlinæˆ–Javaã€‚</li>
<li>å•å‡»å®Œæˆã€‚<br>æ–°ç›®æ ‡ç±»å‹æ˜¾ç¤ºåœ¨å¯¼èˆªç¼–è¾‘å™¨ä¸­ã€‚Android Studioè¿˜ä»¥æŒ‡å®šçš„æºè¯­è¨€åˆ›å»ºç›¸åº”çš„ç±»æ–‡ä»¶ï¼Œå¦‚æœæŒ‡å®šï¼Œè¿˜ä¼šä¸ºæ–°ç›®æ ‡ç±»å‹åˆ›å»ºå¸ƒå±€èµ„æºæ–‡ä»¶ã€‚</li>
</ol>
<p>å›¾æ˜¾ç¤ºäº†ç›®æ ‡å’Œå ä½ç¬¦çš„ç¤ºä¾‹ã€‚<br><img src="./images/navigation-destination-and-placeholder_2x.png" alt="ç›®æ ‡å’Œå ä½ç¬¦"></p>
<p>å¯ä»¥å•å‡»ä»»ä½•ç›®çš„åœ°ä»¥é€‰æ‹©å®ƒã€‚é€‰æ‹©ç›®æ ‡æ—¶ï¼Œ<strong>Attributes</strong> é¢æ¿ä¸­å°†æ˜¾ç¤ºä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li><strong>Type</strong> å­—æ®µæŒ‡ç¤ºç›®æ ‡æ˜¯å¦åœ¨æºä»£ç ä¸­å®ç°ä¸ºç‰‡æ®µæˆ–æ´»åŠ¨ã€‚</li>
<li><strong>Label</strong> å­—æ®µåŒ…å«ç›®æ ‡çš„XMLå¸ƒå±€æ–‡ä»¶çš„åç§°ã€‚</li>
<li><strong>ID</strong> å­—æ®µåŒ…å«è¢«ç”¨äºæŒ‡åœ¨ä»£ç ä¸­çš„ç›®çš„åœ°çš„ç›®çš„åœ°çš„IDã€‚</li>
<li><strong>Class</strong> ä¸‹æ‹‰åˆ—è¡¨æ˜¾ç¤ºä¸ç›®æ ‡å…³è”çš„ç±»çš„åç§°ã€‚æ‚¨å¯ä»¥å•å‡»æ­¤ä¸‹æ‹‰åˆ—è¡¨å°†å…³è”çš„ç±»æ›´æ”¹ä¸ºå…¶ä»–ç›®æ ‡ç±»å‹ã€‚</li>
</ul>
<p>âš ï¸ï¼šå ä½ç¬¦ä¸ç±»æ— å…³ã€‚è¯·åŠ¡å¿…åœ¨è¿è¡Œåº”ç”¨ç¨‹åºä¹‹å‰æ›´æ”¹ç±»å€¼ã€‚</p>
<p>å•å‡» <strong>Text</strong> é€‰é¡¹å¡ä»¥æ˜¾ç¤ºå¯¼èˆªå›¾çš„XMLè§†å›¾ã€‚XMLåŒ…å«ç›¸åŒçš„idï¼Œnameï¼Œlabelï¼Œå’Œlayoutå±æ€§çš„ç›®çš„åœ°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">navigation</span> <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:startDestination</span>=<span class="string">"@id/blankFragment"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/blankFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"com.example.cashdog.cashdog.BlankFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"Blank"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:layout</span>=<span class="string">"@layout/fragment_blank"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">navigation</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="è¿æ¥ç›®çš„åœ°"><a href="#è¿æ¥ç›®çš„åœ°" class="headerlink" title="è¿æ¥ç›®çš„åœ°"></a>è¿æ¥ç›®çš„åœ°</h4><p>æ‚¨å¿…é¡»æœ‰å¤šä¸ªç›®æ ‡æ‰èƒ½è¿æ¥ç›®æ ‡ã€‚ä»¥ä¸‹æ˜¯åŒ…å«ä¸¤ä¸ªç©ºç™½ç›®æ ‡çš„å¯¼èˆªå›¾çš„XMLï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">navigation</span> <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:startDestination</span>=<span class="string">"@id/blankFragment"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/blankFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"com.example.cashdog.cashdog.BlankFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"fragment_blank"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:layout</span>=<span class="string">"@layout/fragment_blank"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/blankFragment2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"com.example.cashdog.cashdog.BlankFragment2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"Blank2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:layout</span>=<span class="string">"@layout/fragment_blank_fragment2"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">navigation</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç›®çš„åœ°ä½¿ç”¨åŠ¨ä½œè¿æ¥ã€‚è¦è¿æ¥ä¸¤ä¸ªç›®æ ‡ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>åœ¨ <strong>Design</strong> é€‰é¡¹å¡ä¸­ï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨æ‚¨å¸Œæœ›ç”¨æˆ·å¯¼èˆªçš„ç›®æ ‡çš„å³ä¾§ã€‚ç›®çš„åœ°ä¸Šä¼šå‡ºç°ä¸€ä¸ªåœ†åœˆã€‚<br><img src="./images/navigation-actioncircle_2x.png" alt="è§†å›¾è®¾è®¡"><br>å›¾4.åŠ¨ä½œè¿æ¥åœˆ</li>
<li><p>å•å‡»å¹¶æŒ‰ä½ï¼Œå°†å…‰æ ‡æ‹–åˆ°æ‚¨å¸Œæœ›ç”¨æˆ·å¯¼èˆªåˆ°çš„ç›®æ ‡ä¸Šï¼Œç„¶åé‡Šæ”¾ã€‚ç»˜åˆ¶ä¸€æ¡çº¿ä»¥æŒ‡ç¤ºä¸¤ä¸ªç›®çš„åœ°ä¹‹é—´çš„å¯¼èˆªã€‚<br><img src="./images/navigation-connected_2x.png" alt="è¿æ¥ç›®çš„åœ°"><br>å›¾5.è¿æ¥ç›®çš„åœ°<br>å•å‡»ç®­å¤´ä»¥çªå‡ºæ˜¾ç¤ºè¯¥æ“ä½œã€‚<strong>Attributes</strong> é¢æ¿ä¸­æ˜¾ç¤ºä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li>Type å­—æ®µåŒ…å« Actionã€‚</li>
<li>è¯¥IDå­—æ®µåŒ…å«åŠ¨ä½œIDã€‚</li>
<li>Destination å­—æ®µåŒ…å«æ‰€è¿°ç›®çš„åœ°ç‰‡Fragmentæˆ–Activityçš„IDã€‚<br>å•å‡» <strong>Text</strong> é€‰é¡¹å¡ä»¥åˆ‡æ¢åˆ°XMLè§†å›¾ã€‚ç°åœ¨ï¼Œæ“ä½œå…ƒç´ å·²æ·»åŠ åˆ°æºç›®æ ‡ã€‚è¯¥æ“ä½œå…·æœ‰IDå’Œç›®æ ‡å±æ€§ï¼Œå…¶ä¸­åŒ…å«ä¸‹ä¸€ä¸ªç›®æ ‡çš„IDï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</li>
</ul>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">navigation</span> <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:startDestination</span>=<span class="string">"@id/blankFragment"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/blankFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"com.example.cashdog.cashdog.BlankFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"fragment_blank"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:layout</span>=<span class="string">"@layout/fragment_blank"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/action_blankFragment_to_blankFragment2"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:destination</span>=<span class="string">"@id/blankFragment2"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fragment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/blankFragment2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"com.example.cashdog.cashdog.BlankFragment2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"fragment_blank_fragment2"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:layout</span>=<span class="string">"@layout/fragment_blank_fragment2"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">navigation</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="å°†å±å¹•æŒ‡å®šä¸ºèµ·å§‹ç›®çš„åœ°"><a href="#å°†å±å¹•æŒ‡å®šä¸ºèµ·å§‹ç›®çš„åœ°" class="headerlink" title="å°†å±å¹•æŒ‡å®šä¸ºèµ·å§‹ç›®çš„åœ°"></a>å°†å±å¹•æŒ‡å®šä¸ºèµ·å§‹ç›®çš„åœ°</h4><p>å¯¼èˆªç¼–è¾‘å™¨ä½¿ç”¨ğŸ æ¥æŒ‡ç¤ºç”¨æˆ·åœ¨æ‰“å¼€åº”ç”¨ç¨‹åºæ—¶çœ‹åˆ°çš„ç¬¬ä¸€ä¸ªå±å¹•ï¼Œä¹Ÿç§°ä¸º èµ·å§‹ç›®çš„åœ°ã€‚</p>
<p>è¦é€‰æ‹©å…¶ä»–èµ·å§‹ç›®çš„åœ°ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li><p>åœ¨ <strong>Design</strong> é€‰é¡¹å¡ä¸­ï¼Œå•å‡»æ–°çš„èµ·å§‹ç›®æ ‡ä»¥çªå‡ºæ˜¾ç¤ºå®ƒã€‚</p>
</li>
<li><p>å•å‡» <strong>Assign start destination</strong> æŒ‰é’®ğŸ ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥å³é”®å•å‡»ç›®æ ‡ï¼Œç„¶åå•å‡» <strong>Set as Start Destination</strong>ã€‚</p>
</li>
</ol>
<h4 id="ä¿®æ”¹æ´»åŠ¨ä»¥ä¸»æŒå¯¼èˆª"><a href="#ä¿®æ”¹æ´»åŠ¨ä»¥ä¸»æŒå¯¼èˆª" class="headerlink" title="ä¿®æ”¹æ´»åŠ¨ä»¥ä¸»æŒå¯¼èˆª"></a>ä¿®æ”¹æ´»åŠ¨ä»¥ä¸»æŒå¯¼èˆª</h4><p>Activityä¸ºNavHostä¸­çš„åº”ç”¨ç¨‹åºæä¾›å¯¼èˆªã€‚ NavHostæ˜¯ä¸€ä¸ªç©ºå®¹å™¨ï¼Œå½“ç”¨æˆ·æµè§ˆæ‚¨çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œç›®çš„åœ°ä¼šè¢«æ¢å…¥å’Œæ¢å‡ºã€‚<br>Navigationç»„ä»¶ä¸­é»˜è®¤NavHostçš„å®ç°æ˜¯NavHostFragmentã€‚</p>
<h5 id="ä½¿ç”¨å¸ƒå±€ç¼–è¾‘å™¨æ·»åŠ NavHostFragment"><a href="#ä½¿ç”¨å¸ƒå±€ç¼–è¾‘å™¨æ·»åŠ NavHostFragment" class="headerlink" title="ä½¿ç”¨å¸ƒå±€ç¼–è¾‘å™¨æ·»åŠ NavHostFragment"></a>ä½¿ç”¨å¸ƒå±€ç¼–è¾‘å™¨æ·»åŠ NavHostFragment</h5><p>æ‚¨å¯ä»¥ä½¿ç”¨å¸ƒå±€ç¼–è¾‘å™¨é€šè¿‡ä»¥ä¸‹æ­¥éª¤å°†NavHostFragmentæ·»åŠ åˆ°Activityï¼š   </p>
<ol>
<li>å¦‚æœæ‚¨è¿˜æ²¡æœ‰å¯¼èˆªå›¾èµ„æºï¼Œè¯·åˆ›å»ºå¯¼èˆªå›¾èµ„æºã€‚</li>
<li>åœ¨é¡¹ç›®æ–‡ä»¶åˆ—è¡¨ä¸­ï¼ŒåŒå‡»æ´»åŠ¨çš„å¸ƒå±€XMLæ–‡ä»¶ï¼Œåœ¨å¸ƒå±€ç¼–è¾‘å™¨ä¸­å°†å…¶æ‰“å¼€ã€‚</li>
<li>åœ¨Paletteçª—æ ¼ä¸­ï¼Œé€‰æ‹©Containersç±»åˆ«ï¼Œæˆ–è€…æœç´¢â€œNavHostFragmentâ€ã€‚</li>
<li>å°†NavHostFragmentè§†å›¾æ‹–åˆ°æ‚¨çš„æ´»åŠ¨ä¸Šã€‚</li>
<li>æ¥ä¸‹æ¥ï¼Œåœ¨å‡ºç°çš„ <strong>Navigation Graphs</strong> å¯¹è¯æ¡†ä¸­ï¼Œé€‰æ‹©è¦ä¸å…¶å…³è”çš„ç›¸åº”å¯¼èˆªå›¾NavHostFragmentï¼Œç„¶åå•å‡» <strong>OK</strong> ã€‚</li>
</ol>
<p>å›åˆ° <strong>Text</strong> è§†å›¾ï¼Œè¯·æ³¨æ„Android Studioæ·»åŠ äº†ç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„XMLï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.constraint.ConstraintLayout</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/nav_host_fragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"androidx.navigation.fragment.NavHostFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"0dp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintLeft_toLeftOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintRight_toRightOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintBottom_toBottomOf</span>=<span class="string">"parent"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">        <span class="attr">app:defaultNavHost</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:navGraph</span>=<span class="string">"@navigation/mobile_navigation"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.constraint.ConstraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¯¥app:defaultNavHost=â€trueâ€å±æ€§ç¡®ä¿æ‚¨NavHostFragment æ‹¦æˆªç³»ç»Ÿåé€€æŒ‰é’®ã€‚æ‚¨è¿˜å¯ä»¥é€šè¿‡è¦†ç›–AppCompatActivity.onSupportNavigateUp() å’Œè°ƒç”¨æ¥å®ç°æ­¤è¡Œä¸ºNavController.navigateUpï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  override fun onSupportNavigateUp(): Boolean &#123;</span></span><br><span class="line"><span class="comment">          return Navigation.findNavController(this, R.id.fragment_nav).navigateUp()</span></span><br><span class="line"><span class="comment">      &#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">override fun <span class="title">onSupportNavigateUp</span><span class="params">()</span> </span>= Navigation.findNavController(<span class="keyword">this</span>, R.id.fragment_nav).navigateUp()</span><br></pre></td></tr></table></figure>
<h4 id="ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºNavHostFragment"><a href="#ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºNavHostFragment" class="headerlink" title="ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºNavHostFragment"></a>ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºNavHostFragment</h4><p>æ‚¨è¿˜å¯ä»¥ä½¿ç”¨NavHostFragment.create() ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºNavHostFragmentå…·æœ‰ç‰¹å®šå›¾å½¢èµ„æºçš„èµ„æºï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">val finalHost = NavHostFragment.create(R.navigation.example_graph)</span><br><span class="line">supportFragmentManager.beginTransaction()</span><br><span class="line">    .replace(R.id.nav_host, finalHost)</span><br><span class="line">    .setPrimaryNavigationFragment(finalHost) <span class="comment">// this is the equivalent to app:defaultNavHost="true"</span></span><br><span class="line">    .commit()</span><br></pre></td></tr></table></figure></p>
<h4 id="å°†ç›®æ ‡ç»‘å®šåˆ°uiå°éƒ¨ä»¶"><a href="#å°†ç›®æ ‡ç»‘å®šåˆ°uiå°éƒ¨ä»¶" class="headerlink" title="å°†ç›®æ ‡ç»‘å®šåˆ°uiå°éƒ¨ä»¶"></a>å°†ç›®æ ‡ç»‘å®šåˆ°uiå°éƒ¨ä»¶</h4><p>ä½¿ç”¨NavControllerç±»å¯¼èˆªåˆ°ç›®æ ‡ã€‚ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é™æ€æ–¹æ³•ä¹‹ä¸€æ£€ç´¢NavControllerï¼šï¼š</p>
<ul>
<li>NavHostFragment.findNavController(Fragment)</li>
<li>Navigation.findNavController(Activity, @IdRes int viewId)</li>
<li>Navigation.findNavController(View)<br>æ£€ç´¢å NavControllerï¼Œä½¿ç”¨å…¶ navigate() æ–¹æ³•å¯¼èˆªåˆ°ç›®æ ‡ã€‚è¯¥ navigate() æ–¹æ³•æ¥å—èµ„æºIDã€‚IDå¯ä»¥æ˜¯å¯¼èˆªå›¾æˆ–æ“ä½œä¸­ç‰¹å®šç›®æ ‡çš„IDã€‚ä½¿ç”¨æ“ä½œçš„IDè€Œä¸æ˜¯ç›®æ ‡çš„èµ„æºIDå…·æœ‰ä¼˜åŠ¿ï¼Œä¾‹å¦‚å°†è¿‡æ¸¡ä¸å¯¼èˆªç›¸å…³è”ã€‚æœ‰å…³è½¬æ¢çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://developer.android.com/topic/libraries/architecture/navigation/navigation-implementing#Create-transition" target="_blank" rel="noopener">åˆ›å»ºç›®æ ‡ä¹‹é—´çš„è½¬æ¢</a>ã€‚</li>
</ul>
<p>ä»¥ä¸‹ä»£ç æ®µæ˜¾ç¤ºäº†å¦‚ä½•å¯¼èˆªåˆ° ViewTransactionsFragmentï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">viewTransactionsButton.setOnClickListener &#123; view -&gt;</span><br><span class="line">   view.findNavController().navigate(R.id.viewTransactionsAction)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Androidç³»ç»Ÿç»´æŠ¤ä¸€ä¸ªåŒ…å«æœ€åè®¿é—®ç›®çš„åœ°çš„ <strong>back stack</strong> ã€‚å½“ç”¨æˆ·æ‰“å¼€åº”ç”¨ç¨‹åºæ—¶ï¼Œåº”ç”¨ç¨‹åºçš„ç¬¬ä¸€ä¸ªç›®æ ‡ä½äºå †æ ˆä¸­ã€‚æ¯æ¬¡è°ƒç”¨è¯¥ navigate() æ–¹æ³•éƒ½ä¼šå°†å¦ä¸€ä¸ªç›®æ ‡æ”¾åœ¨å †æ ˆé¡¶éƒ¨ã€‚ç›¸åï¼ŒæŒ‰â€œå‘ä¸Šâ€æˆ–â€œè¿”å›â€æŒ‰é’®åˆ†åˆ«è°ƒç”¨ NavController.navigateUp() å’Œ NavController.popBackStack() æ–¹æ³•ï¼Œå°†é¡¶éƒ¨ç›®æ ‡å¼¹å‡ºå †æ ˆã€‚</p>
<p>å¯¹äºæŒ‰é’®ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨ Navigationç±»çš„ createNavigateOnClickListener() ä¾¿æ·æ–¹æ³•å¯¼èˆªåˆ°ç›®æ ‡ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">button.setOnClickListener(Navigation.createNavigateOnClickListener(R.id.next_fragment, null))</span><br></pre></td></tr></table></figure></p>
<p>è¦å¤„ç†å…¶ä»–å¸¸è§UIç»„ä»¶ï¼Œä¾‹å¦‚é¡¶éƒ¨åº”ç”¨æ å’Œåº•éƒ¨å¯¼èˆªï¼Œè¯·å‚é˜…<a href="https://developer.android.com/topic/libraries/architecture/navigation/navigation-ui" target="_blank" rel="noopener">ä½¿ç”¨NavigationUIæ›´æ–°UIç»„ä»¶</a>ã€‚</p>
<h4 id="ä¸ºç›®æ ‡åˆ›å»ºæ·±å±‚é“¾æ¥"><a href="#ä¸ºç›®æ ‡åˆ›å»ºæ·±å±‚é“¾æ¥" class="headerlink" title="ä¸ºç›®æ ‡åˆ›å»ºæ·±å±‚é“¾æ¥"></a>ä¸ºç›®æ ‡åˆ›å»ºæ·±å±‚é“¾æ¥</h4><p>åœ¨Androidä¸­ï¼Œ<a href="https://developer.android.com/training/app-links/deep-linking" target="_blank" rel="noopener">æ·±å±‚é“¾æ¥</a>æ˜¯æŒ‡å‘åº”ç”¨ä¸­ç‰¹å®šç›®æ ‡çš„URIã€‚å½“æ‚¨æƒ³è¦å°†ç”¨æˆ·å‘é€åˆ°ç‰¹å®šç›®çš„åœ°ä»¥åœ¨æ‚¨çš„åº”ç”¨ä¸­æ‰§è¡ŒæŸé¡¹ä»»åŠ¡æ—¶ï¼Œè¿™äº›URIå¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚å‘é€èµ„é‡‘æµï¼Œå…è®¸ç”¨æˆ·å¿«é€Ÿæ±‡æ¬¾ç»™æŸäººã€‚</p>
<h5 id="ä¸ºç›®æ ‡åˆ†é…æ·±å±‚é“¾æ¥"><a href="#ä¸ºç›®æ ‡åˆ†é…æ·±å±‚é“¾æ¥" class="headerlink" title="ä¸ºç›®æ ‡åˆ†é…æ·±å±‚é“¾æ¥"></a>ä¸ºç›®æ ‡åˆ†é…æ·±å±‚é“¾æ¥</h5><p>è¦åœ¨å¯¼èˆªå›¾ä¸­ä¸ºç›®æ ‡æŒ‡å®šæ·±å±‚é“¾æ¥ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ul>
<li>åœ¨ <strong>Design</strong> è§†å›¾ä¸­ï¼Œé€‰æ‹©æ·±å±‚é“¾æ¥çš„ç›®æ ‡ã€‚</li>
<li>å•å‡» <strong>Add deep link</strong> æŒ‰é’®ğŸ”—ï¼ˆæˆ–å•å‡» <strong>Attributes</strong> é¢æ¿çš„ <strong>Deep Links</strong> éƒ¨åˆ†ä¸­çš„â•ï¼‰ã€‚å‡ºç° <strong>Add Deep Link</strong> å¯¹è¯æ¡†ã€‚</li>
<li>åœ¨URIå­—æ®µä¸­é”®å…¥URIï¼Œä¾‹å¦‚â€œwww.cashdog.com/sendmoneyâ€ï¼Œå®ƒè¡¨ç¤ºåº”ç”¨ä¸­å‘é€è´§å¸åµŒå¥—å›¾çš„èµ·å§‹ç›®çš„åœ°ã€‚</li>
</ul>
<p>è¯·æ³¨æ„ä»¥ä¸‹äº‹é¡¹ï¼š  </p>
<ul>
<li>æœªæŒ‡å®šåè®®çš„URIè¢«å‡å®šä¸ºhttpæˆ–httpsã€‚ä¾‹å¦‚ï¼Œ www.cashdog.comåŒ¹é…<a href="http://www.cashdog.com" target="_blank" rel="noopener">http://www.cashdog.com</a> æˆ–<a href="https://www.cashdog.comã€‚" target="_blank" rel="noopener">https://www.cashdog.comã€‚</a></li>
<li>å ä½ç¬¦çš„{placeholder_name}åŒ¹é…å½¢å¼ä¸º1ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚Stringå ä½ç¬¦çš„å€¼åœ¨Bundleå¸¦æœ‰ç›¸åŒåç§°çš„é”®çš„å‚æ•°ä¸­å¯ç”¨ã€‚ä¾‹å¦‚ï¼Œ<a href="http://www.example.com/users/{id}åŒ¹é…http://www.example.com/users/4" target="_blank" rel="noopener">http://www.example.com/users/{id}åŒ¹é…http://www.example.com/users/4</a>.</li>
<li>ã€‚*é€šé…ç¬¦å¯ç”¨äºåŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚<ul>
<li>ï¼ˆå¯é€‰ï¼‰é€‰ä¸­ <strong>Auto Verify</strong> ä»¥è¦æ±‚GoogleéªŒè¯æ‚¨æ˜¯URIçš„æ‰€æœ‰è€…ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="deepLink app:uri=&quot;https://cashdog.com/sendmoney&quot;/">éªŒè¯Androidåº”ç”¨ç¨‹åºé“¾æ¥</a>ã€‚</li>
<li>å•å‡» <strong>Add</strong>ã€‚ æ‰€é€‰ç›®æ ‡ä¸Šæ–¹ä¼šæ˜¾ç¤ºä¸€ä¸ªé“¾æ¥å›¾æ ‡ï¼Œè¡¨ç¤ºè¯¥ç›®æ ‡å…·æœ‰æ·±å±‚é“¾æ¥ã€‚</li>
<li>å•å‡» <strong>Text</strong> é€‰é¡¹å¡ä»¥åˆ‡æ¢åˆ°XMLè§†å›¾ã€‚å·²å°†åµŒå¥—çš„æ·±å±‚é“¾æ¥å…ƒç´ æ·»åŠ åˆ°ç›®æ ‡ï¼š<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">deepLink</span> <span class="attr">app:uri</span>=<span class="string">"https://cashdog.com/sendmoney"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>å½“ç”¨æˆ·ä»æ·±å±‚é“¾æ¥ç›®æ ‡æŒ‰ä¸‹â€œåé€€â€æŒ‰é’®æ—¶ï¼Œä»–ä»¬ä¼šå¯¼èˆªå›å¯¼èˆªå †æ ˆï¼Œå°±åƒä»–ä»¬ä»åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹è¿›å…¥æ‚¨çš„åº”ç”¨ç¨‹åºä¸€æ ·ã€‚</p>
<h5 id="ä¸ºæ·±å±‚é“¾æ¥æ·»åŠ æ„å›¾è¿‡æ»¤å™¨"><a href="#ä¸ºæ·±å±‚é“¾æ¥æ·»åŠ æ„å›¾è¿‡æ»¤å™¨" class="headerlink" title="ä¸ºæ·±å±‚é“¾æ¥æ·»åŠ æ„å›¾è¿‡æ»¤å™¨"></a>ä¸ºæ·±å±‚é“¾æ¥æ·»åŠ æ„å›¾è¿‡æ»¤å™¨</h5><p>æ‚¨å¿…é¡»æ·»åŠ manifest.xmlæ–‡ä»¶ä»¥åœ¨æ‚¨çš„åº”ç”¨ä¸­å¯ç”¨æ·±å±‚é“¾æ¥ï¼š</p>
<p>å¯¹äºAndroid Studio 3.0å’Œ3.1ï¼Œæ‚¨å¿…é¡»æ‰‹åŠ¨æ·»åŠ intent-filter å…ƒç´ ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… åˆ›å»ºåº”ç”¨ç¨‹åºå†…å®¹çš„æ·±å±‚é“¾æ¥ã€‚<br>å¯¹äºAndroid Studio 3.2+ï¼Œæ‚¨å¯ä»¥nav-graphå‘æ´»åŠ¨å…ƒç´ æ·»åŠ å…ƒç´ ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span> <span class="attr">name</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">nav-graph</span> <span class="attr">android:value</span>=<span class="string">"@navigation/main_nav"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½œä¸ºæ¸…å•åˆå¹¶æ„å»ºæ­¥éª¤çš„ä¸€éƒ¨åˆ†ï¼Œæ­¤å…ƒç´ å°†æ›¿æ¢<intent-filter>ä¸ºåŒ¹é…å¯¼èˆªå›¾ä¸­æ‰€æœ‰æ·±å±‚é“¾æ¥æ‰€éœ€çš„ç”Ÿæˆå…ƒç´ ã€‚</intent-filter></p>
<h5 id="ä»¥ç¼–ç¨‹æ–¹å¼ä½¿ç”¨NavDeepLinkBuilderåˆ›å»ºæ·±å±‚é“¾æ¥"><a href="#ä»¥ç¼–ç¨‹æ–¹å¼ä½¿ç”¨NavDeepLinkBuilderåˆ›å»ºæ·±å±‚é“¾æ¥" class="headerlink" title="ä»¥ç¼–ç¨‹æ–¹å¼ä½¿ç”¨NavDeepLinkBuilderåˆ›å»ºæ·±å±‚é“¾æ¥"></a>ä»¥ç¼–ç¨‹æ–¹å¼ä½¿ç”¨NavDeepLinkBuilderåˆ›å»ºæ·±å±‚é“¾æ¥</h5><p>æ‚¨å¯ä»¥ä½¿ç”¨NavDeepLinkBuilderè¯¥ç±»æ„å»ºä¸€ä¸ªPendingIntent å°†ç”¨æˆ·å¸¦åˆ°ç‰¹å®šç›®æ ‡çš„ç±»ã€‚</p>
<p>è§¦å‘æ­¤æ·±å±‚é“¾æ¥æ—¶ï¼Œå°†æ¸…é™¤ä»»åŠ¡åå°å †æ ˆå¹¶æ›¿æ¢ä¸ºæ·±å±‚é“¾æ¥ç›®æ ‡ã€‚å½“åµŒå¥—å›¾è¡¨ï¼Œä»æ¯ä¸€çº§çš„å¼€å§‹ç›®çš„åœ°åµŒå¥—çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»æ¯ä¸ªç›®çš„åœ°å¼€å§‹ <navigation>åœ¨å…ƒä»¶å±‚æ¬¡ç»“æ„ä¹Ÿè¢«æ·»åŠ åˆ°å †æ ˆä¸­ã€‚</navigation></p>
<p>æ‚¨å¯ä»¥PendingIntentç›´æ¥ æ„é€ ä¸€ä¸ªNavDeepLinkBuilder(Context)ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæä¾›çš„ä¸Šä¸‹æ–‡ä¸æ˜¯a Activityï¼Œåˆ™æ„é€ å‡½æ•°å°†ä½¿ç”¨ PackageManager.getLaunchIntentForPackage() ä½œä¸ºé»˜è®¤æ´»åŠ¨æ¥å¯åŠ¨ï¼ˆå¦‚æœå¯ç”¨ï¼‰ã€‚<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> pendingIntent = NavDeepLinkBuilder(context)</span><br><span class="line">    .setGraph(R.navigation.mobile_navigation)</span><br><span class="line">    .setDestination(R.id.android)</span><br><span class="line">    .setArguments(args)</span><br><span class="line">    .createPendingIntent()</span><br></pre></td></tr></table></figure></p>
<p>æœ‰å…³åŒ…å«æ­¤ç¤ºä¾‹çš„å®Œæ•´å¯¼èˆªé¡¹ç›®ï¼Œè¯·å‚é˜… <a href="https://codelabs.developers.google.com/codelabs/android-navigation/#0" target="_blank" rel="noopener">Navigation Codelab</a>ã€‚</p>
<p>âš ï¸ï¼šå¦‚æœæ‚¨æœ‰ç°æœ‰çš„NavControllerï¼Œæ‚¨è¿˜å¯ä»¥é€šè¿‡åˆ›å»ºæ·±å±‚é“¾æ¥NavController.createDeepLink()ã€‚</p>
<h5 id="åœ¨ç›®çš„åœ°ä¹‹é—´åˆ›å»ºè¿‡æ¸¡"><a href="#åœ¨ç›®çš„åœ°ä¹‹é—´åˆ›å»ºè¿‡æ¸¡" class="headerlink" title="åœ¨ç›®çš„åœ°ä¹‹é—´åˆ›å»ºè¿‡æ¸¡"></a>åœ¨ç›®çš„åœ°ä¹‹é—´åˆ›å»ºè¿‡æ¸¡</h5><p>å¯¼èˆªç»„ä»¶æä¾›äº†åœ¨ç›®çš„åœ°ä¹‹é—´è½»æ¾æ·»åŠ è½¬æ¢ï¼ˆä¾‹å¦‚æ·¡å…¥å’Œæ·¡å‡ºï¼‰çš„åŠŸèƒ½ã€‚è¦æ·»åŠ è½¬æ¢ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>åˆ›å»ºåŠ¨ç”»èµ„æºæ–‡ä»¶ã€‚å¯¼èˆªæ”¯æŒå±æ€§å’Œè§†å›¾åŠ¨ç”»ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="https://developer.android.com/guide/topics/resources/animation-resource" target="_blank" rel="noopener">Animation resources</a>ã€‚</li>
<li>åœ¨å¯¼èˆªç¼–è¾‘å™¨çš„ <strong><a href="https://developer.android.com/guide/topics/resources/animation-resource" target="_blank" rel="noopener">https://developer.android.com/guide/topics/resources/animation-resource</a></strong> é€‰é¡¹å¡ä¸­ï¼Œå•å‡»è¦è¿›è¡Œè½¬æ¢çš„æ“ä½œã€‚</li>
<li>åœ¨ <strong>Attributes</strong> é¢æ¿çš„ <strong>Transitions</strong> éƒ¨åˆ†ä¸­ï¼Œå•å‡» <strong>Enter</strong> æ—è¾¹çš„å‘ä¸‹ç®­å¤´ä»¥æ˜¾ç¤ºé¡¹ç›®ä¸­å¯ç”¨è¿‡æ¸¡çš„åˆ—è¡¨ã€‚</li>
<li>é€‰æ‹©ç”¨æˆ·è¿›å…¥ç›®çš„åœ°æ—¶å‘ç”Ÿçš„è½¬æ¢ã€‚</li>
<li>å›åˆ° <strong>Transitions</strong> éƒ¨åˆ†ï¼Œå•å‡» <strong>Exit</strong> æ—è¾¹çš„å‘ä¸‹ç®­å¤´ï¼Œç„¶åé€‰æ‹©å½“ç”¨æˆ·é€€å‡ºç›®æ ‡æ—¶å‘ç”Ÿçš„è½¬æ¢ã€‚</li>
<li>å•å‡» <strong>Text</strong> é€‰é¡¹å¡ä»¥åˆ‡æ¢åˆ°XMLæ–‡æœ¬è§†å›¾ã€‚è½¬æ¢çš„XMLå‡ºç°åœ¨æŒ‡å®šæ“ä½œçš„<action>å…ƒç´ ä¸­ã€‚è¯¥æ“ä½œåµŒå…¥åœ¨è½¬æ¢å‘ç”Ÿä¹‹å‰å¤„äºæ´»åŠ¨çŠ¶æ€çš„ç›®æ ‡çš„XMLä¸­ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œ   specifyAmountFragmentæ˜¯æ´»åŠ¨ç›®æ ‡ï¼Œå› æ­¤å®ƒåŒ…å«å…·æœ‰è¿‡æ¸¡åŠ¨ç”»çš„æ“ä½œï¼š<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/specifyAmountFragment"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">"com.example.buybuddy.buybuddy.SpecifyAmountFragment"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:label</span>=<span class="string">"fragment_specify_amount"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:layout</span>=<span class="string">"@layout/fragment_specify_amount"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/confirmationAction"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:destination</span>=<span class="string">"@id/confirmationFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:enterAnim</span>=<span class="string">"@anim/slide_in_right"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:exitAnim</span>=<span class="string">"@anim/slide_out_left"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:popEnterAnim</span>=<span class="string">"@anim/slide_in_left"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:popExitAnim</span>=<span class="string">"@anim/slide_out_right"</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">fragment</span>&gt;</span></span><br></pre></td></tr></table></figure>
</action></li>
</ol>
<p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨ç§»åŠ¨åˆ°ç›®çš„åœ°æ—¶ï¼ˆenterAnimä»¥åŠexitAnimé€€å‡ºè¯¥ç›®æ ‡ï¼ˆpopEnterAnim å’ŒpopExitAnimï¼‰æ—¶å‘ç”Ÿè½¬æ¢ï¼‰ã€‚</p>
<h5 id="åœ¨Fragmentç›®æ ‡ä¹‹é—´æ·»åŠ å…±äº«å…ƒç´ è½¬æ¢"><a href="#åœ¨Fragmentç›®æ ‡ä¹‹é—´æ·»åŠ å…±äº«å…ƒç´ è½¬æ¢" class="headerlink" title="åœ¨Fragmentç›®æ ‡ä¹‹é—´æ·»åŠ å…±äº«å…ƒç´ è½¬æ¢"></a>åœ¨Fragmentç›®æ ‡ä¹‹é—´æ·»åŠ å…±äº«å…ƒç´ è½¬æ¢</h5><p>é™¤äº†è¿‡æ¸¡åŠ¨ç”»ä¹‹å¤–ï¼ŒNavigationè¿˜æ”¯æŒåœ¨ç›®æ ‡ä¹‹é—´æ·»åŠ å…±äº«å…ƒç´ è¿‡æ¸¡ã€‚</p>
<p>ä¸åŠ¨ç”»ä¸åŒï¼Œå…±äº«å…ƒç´ è½¬æ¢æ˜¯ä»¥ç¼–ç¨‹æ–¹å¼æä¾›çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡å¯¼èˆªXMLæ–‡ä»¶æä¾›çš„ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦å¼•ç”¨Viewæ‚¨å¸Œæœ›åŒ…å«åœ¨å…±äº«å…ƒç´ è½¬æ¢ä¸­çš„ å®ä¾‹ã€‚</p>
<p>æ¯ç§ç±»å‹çš„ç›®æ ‡éƒ½é€šè¿‡Navigator.Extras æ¥å£çš„å­ç±»å®ç°æ­¤ç¼–ç¨‹API ã€‚å°†Extrasè¢«ä¼ é€’åˆ°ä¸€ä¸ªå‘¼å«navigate()ã€‚</p>
<p>Fragmentç›®æ ‡å…±äº«å…ƒç´ è½¬æ¢<br>åœ¨FragmentNavigator.Extras ç±»å…è®¸æ‚¨é™„åŠ å…±äº«å…ƒç´ åˆ°navigate()å‘¼å«ç›®çš„åœ°çš„ç‰‡æ®µï¼Œå¦‚å›¾ä¸‹é¢çš„ä¾‹å­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">val extras = FragmentNavigatorExtras(</span><br><span class="line">    imageView to <span class="string">"header_image"</span>,</span><br><span class="line">    titleView to <span class="string">"header_title"</span>)</span><br><span class="line">view.findNavController().navigate(R.id.confirmationAction,</span><br><span class="line">    <span class="keyword">null</span>, <span class="comment">// Bundle of args</span></span><br><span class="line">    <span class="keyword">null</span>, <span class="comment">// NavOptions</span></span><br><span class="line">    extras)</span><br></pre></td></tr></table></figure></p>
<p>âš ï¸ï¼šè¿™é‡Œçš„header_imageå’Œheader_titleè¦ç¡®ä¿åœ¨å½“å‰å¸ƒå±€çš„android:transitionNameå’Œéœ€è¦è°ƒæ•´çš„å¸ƒå±€çš„android:transitionNameä¸€æ ·</p>
<h5 id="Activityç›®æ ‡å…±äº«å…ƒç´ è½¬æ¢"><a href="#Activityç›®æ ‡å…±äº«å…ƒç´ è½¬æ¢" class="headerlink" title="Activityç›®æ ‡å…±äº«å…ƒç´ è½¬æ¢"></a>Activityç›®æ ‡å…±äº«å…ƒç´ è½¬æ¢</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// Rename the Pair class from the Android framework to avoid a name clash</span><br><span class="line">import android.util.Pair as UtilPair</span><br><span class="line">///...</span><br><span class="line">val options = ActivityOptionsCompat.makeSceneTransitionAnimation(activity,</span><br><span class="line">        UtilPair.create(imageView, &quot;header_image&quot;),</span><br><span class="line">        UtilPair.create(titleView, &quot;header_title&quot;))</span><br><span class="line">val extras = ActivityNavigator.Extras(options)</span><br><span class="line">view.findNavController().navigate(R.id.details,</span><br><span class="line">    null, // Bundle of args</span><br><span class="line">    null, // NavOptions</span><br><span class="line">    extras)</span><br><span class="line"></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ä½¿ç”¨NavigationUIæ›´æ–°UIç»„ä»¶</span><br><span class="line"></span><br><span class="line">å¯¼èˆªæ¶æ„ç»„ä»¶åŒ…æ‹¬NavigationUIç±»ã€‚ æ­¤ç±»åŒ…å«ä½¿ç”¨é¡¶éƒ¨åº”ç”¨æ ï¼Œå¯¼èˆªæŠ½å±‰å’Œåº•éƒ¨å¯¼èˆªç®¡ç†å¯¼èˆªçš„é™æ€æ–¹æ³•ã€‚</span><br><span class="line"></span><br><span class="line">#### ç›‘å¬å¯¼èˆªäº‹ä»¶</span><br><span class="line">ä¸NavControlleräº¤äº’æ˜¯åœ¨ç›®çš„åœ°ä¹‹é—´å¯¼èˆªçš„ä¸»è¦æ–¹æ³•ã€‚ NavControllerè´Ÿè´£ç”¨æ–°ç›®æ ‡æ›¿æ¢NavHostçš„å†…å®¹ã€‚ åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒUIå…ƒç´  - ä¾‹å¦‚é¡¶çº§åº”ç”¨æ æˆ–å…¶ä»–æŒä¹…æ€§å¯¼èˆªæ§ä»¶ï¼ˆå¦‚BottomNavigationBarï¼‰åœ¨NavHostä¹‹å¤–å­˜åœ¨ï¼Œå¹¶ä¸”éœ€è¦åœ¨ç›®çš„åœ°ä¹‹é—´å¯¼èˆªæ—¶è¿›è¡Œæ›´æ–°ã€‚</span><br><span class="line"></span><br><span class="line">NavControlleræä¾›äº†ä¸€ä¸ªOnDestinationChangedListeneræ¥å£ï¼Œå½“NavControllerçš„å½“å‰ç›®æ ‡æˆ–å…¶å‚æ•°å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œè¯¥æ¥å£å°†è¢«è°ƒç”¨ã€‚ å¯ä»¥é€šè¿‡addOnDestinationChangedListenerï¼ˆï¼‰æ–¹æ³•æ³¨å†Œæ–°çš„ä¾¦å¬å™¨ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚ è¯·æ³¨æ„ï¼Œåœ¨è°ƒç”¨addOnDestinationChangedListenerï¼ˆï¼‰æ—¶ï¼Œå¦‚æœå½“å‰ç›®æ ‡å­˜åœ¨ï¼Œåˆ™ä¼šç«‹å³å°†å…¶å‘é€ç»™æ‚¨çš„ä¾¦å¬å™¨ã€‚</span><br><span class="line"></span><br><span class="line">```Kotlin</span><br><span class="line">navController.addOnDestinationChangedListener &#123; navController, destination, arguments -&gt;</span><br><span class="line">  textView.setText(destination.label)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>NavigationUIä½¿ç”¨OnDestinationChangedListenerä½¿è¿™äº›å¸¸è§çš„UIç»„ä»¶å¯ä»¥æ„ŸçŸ¥å¯¼èˆªäº‹ä»¶ã€‚ ä½†è¯·æ³¨æ„ï¼Œæ‚¨è¿˜å¯ä»¥å•ç‹¬ä½¿ç”¨OnDestinationChangedListeneræ¥ä½¿ä»»ä½•è‡ªå®šä¹‰UIæˆ–ä¸šåŠ¡é€»è¾‘æ„ŸçŸ¥å¯¼èˆªäº‹ä»¶ã€‚</p>
<h4 id="é¡¶éƒ¨åº”ç”¨æ "><a href="#é¡¶éƒ¨åº”ç”¨æ " class="headerlink" title="é¡¶éƒ¨åº”ç”¨æ "></a>é¡¶éƒ¨åº”ç”¨æ </h4><p>é¡¶éƒ¨åº”ç”¨æ åœ¨åº”ç”¨é¡¶éƒ¨ æä¾›äº†ä¸€è‡´çš„ä½ç½®ï¼Œç”¨äºæ˜¾ç¤ºå½“å‰å±å¹•çš„ä¿¡æ¯å’Œæ“ä½œã€‚<br><img src="./images/top-app-bar.png" alt="é¡¶éƒ¨å¯¼èˆª"><br>NavigationUIåŒ…å«åœ¨ç”¨æˆ·æµè§ˆåº”ç”¨æ—¶è‡ªåŠ¨æ›´æ–°é¡¶éƒ¨åº”ç”¨æ ä¸­å†…å®¹çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒNavigationUIä½¿ç”¨å¯¼èˆªå›¾ä¸­çš„ç›®æ ‡æ ‡ç­¾å¯ä»¥ä½¿é¡¶éƒ¨åº”ç”¨æ çš„æ ‡é¢˜ä¿æŒæœ€æ–°ã€‚</p>
<p>ä½¿ç”¨NavigationUIä¸‹é¢è®¨è®ºçš„é¡¶çº§åº”ç”¨æ æ–¹æ³•æ—¶ï¼Œå¯ä»¥ä½¿ç”¨{argName}æ ‡ç­¾ä¸­çš„æ ¼å¼ä»æä¾›ç»™ç›®æ ‡çš„å‚æ•°ä¸­è‡ªåŠ¨å¡«å……é™„åŠ åˆ°ç›®æ ‡çš„æ ‡ç­¾ã€‚</p>
<p>NavigationUI æä¾›ä»¥ä¸‹é¡¶çº§åº”ç”¨æ ç±»å‹çš„æ”¯æŒï¼š</p>
<ul>
<li>Toolbar</li>
<li>CollapsingToolbarLayout</li>
<li>ActionBar</li>
</ul>
<h4 id="AppBarConfiguration"><a href="#AppBarConfiguration" class="headerlink" title="AppBarConfiguration"></a>AppBarConfiguration</h4><p>NavigationUIä½¿ç”¨AppBarConfiguration å¯¹è±¡æ¥ç®¡ç†åº”ç”¨ç¨‹åºæ˜¾ç¤ºåŒºåŸŸå·¦ä¸Šè§’çš„â€œå¯¼èˆªâ€æŒ‰é’®çš„è¡Œä¸ºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ç”¨æˆ·ä½äºå¯¼èˆªå›¾çš„é¡¶çº§ç›®æ ‡ä½ç½®æ—¶ï¼Œå¯¼èˆªæŒ‰é’®å°†éšè—ï¼Œå¹¶åœ¨ä»»ä½•å…¶ä»–ç›®æ ‡ä½ç½®æ˜¾ç¤ºä¸ºâ€œå‘ä¸Šâ€æŒ‰é’®ã€‚</p>
<p>è¦å°†å¯¼èˆªå›¾çš„èµ·å§‹ç›®çš„åœ°ç”¨ä½œå”¯ä¸€çš„é¡¶çº§ç›®çš„åœ°ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªAppBarConfigurationå¯¹è±¡å¹¶ä¼ å…¥ç›¸åº”çš„å¯¼èˆªå›¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> appBarConfiguration = AppBarConfiguration(navController.graph)</span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœè¦è‡ªå®šä¹‰å“ªäº›ç›®æ ‡è¢«è§†ä¸ºé¡¶çº§ç›®æ ‡ï¼Œåˆ™å¯ä»¥å°†ä¸€ç»„ç›®æ ‡IDä¼ é€’ç»™æ„é€ å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val appBarConfiguration = AppBarConfiguration(setOf(R.id.main, R.id.android))</span><br></pre></td></tr></table></figure></p>
<h4 id="åˆ›å»ºToolbar"><a href="#åˆ›å»ºToolbar" class="headerlink" title="åˆ›å»ºToolbar"></a>åˆ›å»ºToolbar</h4><p>è¦ä½¿ç”¨NavigationUIåˆ›å»ºå·¥å…·æ ï¼Œè¯·é¦–å…ˆåœ¨Activityä¸­å®šä¹‰å·¥å…·æ ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/toolbar"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/nav_host_fragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">...</span> /&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥ï¼ŒsetupWithNavController() ä»æ‚¨çš„ä¸»è¦æ´»åŠ¨çš„onCreate()æ–¹æ³•è°ƒç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class="line">    setContentView(R.layout.activity_main)</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">    //ä¸»å¯¼èˆªFragment</span><br><span class="line">    val navHostFragment = nav_host_fragment as NavHostFragment</span><br><span class="line">    // å…¶ä¸­toolbalä¸ºéœ€è¦ç»‘å®šçš„è§†å›¾æ§ä»¶ï¼Œç›®å‰æ”¯æŒ12ç§è§†å›¾æ§ä»¶ï¼›</span><br><span class="line">    NavigationUI.setupWithNavController(toolbar, navHostFragment.navController)</span><br></pre></td></tr></table></figure>
<p>âš ï¸ï¼šæ³¨æ„ï¼šä½¿ç”¨å·¥å…·æ æ—¶ï¼Œå¯¼èˆªä¼šè‡ªåŠ¨å¤„ç†â€œå¯¼èˆªâ€æŒ‰é’®çš„å•å‡»äº‹ä»¶ï¼Œå› æ­¤æ‚¨æ— éœ€è¦†ç›–onSupportNavigateUpï¼ˆï¼‰ã€‚<strong>ï¼ï¼ï¼å¦‚æœä½¿ç”¨å¸¦menuèœå•çš„æ§ä»¶å¦‚BottomNavigationViewæ—¶ï¼Œéœ€è¦ç¡®ä¿menuçš„idå’Œéœ€è¦è·³è½¬çš„å¯¼èˆªå›¾ä¸­çš„fragmentçš„IDä¸€è‡´ï¼ï¼ï¼</strong></p>
<h4 id="åŒ…æ‹¬CollapsingToolbarLayout"><a href="#åŒ…æ‹¬CollapsingToolbarLayout" class="headerlink" title="åŒ…æ‹¬CollapsingToolbarLayout"></a>åŒ…æ‹¬CollapsingToolbarLayout</h4><p>è¦CollapsingToolbarLayoutåœ¨å·¥å…·æ ä¸­æ·»åŠ a ï¼Œè¯·å…ˆåœ¨ä¸»è¦æ´»åŠ¨ä¸­å®šä¹‰å·¥å…·æ å’Œå‘¨å›´å¸ƒå±€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.AppBarLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"@dimen/tall_toolbar_height"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.design.widget.CollapsingToolbarLayout</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/collapsing_toolbar_layout"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:contentScrim</span>=<span class="string">"?attr/colorPrimary"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:expandedTitleGravity</span>=<span class="string">"top"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:layout_scrollFlags</span>=<span class="string">"scroll|exitUntilCollapsed|snap"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:id</span>=<span class="string">"@+id/toolbar"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:layout_height</span>=<span class="string">"?attr/actionBarSize"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">app:layout_collapseMode</span>=<span class="string">"pin"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">android.support.design.widget.CollapsingToolbarLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.AppBarLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/nav_host_fragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">...</span> /&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼ŒsetupWithNavController() ä»æ‚¨çš„ä¸»è¦æ´»åŠ¨çš„onCreateæ–¹æ³•è°ƒç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class="line">    setContentView(R.layout.activity_main)</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    //ä¸»å¯¼èˆªFragment</span><br><span class="line">    val navHostFragment = nav_host_fragment as NavHostFragment</span><br><span class="line">    // å…¶ä¸­toolbalä¸ºéœ€è¦ç»‘å®šçš„è§†å›¾æ§ä»¶ï¼Œç›®å‰æ”¯æŒ12ç§è§†å›¾æ§ä»¶ï¼›</span><br><span class="line">    NavigationUI.setupWithNavController(toolbar, navHostFragment.navController)</span><br></pre></td></tr></table></figure>
<h4 id="Action-bar"><a href="#Action-bar" class="headerlink" title="Action bar"></a>Action bar</h4><p>è¦ä½¿ç”¨é»˜è®¤æ“ä½œæ åŒ…å«å¯¼èˆªæ”¯æŒï¼Œè¯·setupActionBarWithNavController() ä»ä¸»Activityçš„onCreate()æ–¹æ³•ä¸­è°ƒç”¨ ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚è¯·æ³¨æ„ï¼Œæ‚¨éœ€è¦å£°æ˜è‡ªå·±çš„AppBarConfigurationå¤–éƒ¨onCreate()ï¼Œå› ä¸ºæ‚¨åœ¨è¦†ç›–æ—¶ä¹Ÿä½¿ç”¨å®ƒonSupportNavigateUp():<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">private lateinit var appBarConfiguration: AppBarConfiguration</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    val navController = findNavController(R.id.nav_host_fragment)</span><br><span class="line">    appBarConfiguration = AppBarConfiguration(navController.graph)</span><br><span class="line">    setupActionBarWithNavController(navController, appBarConfiguration)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥ï¼Œè¦†ç›–onSupportNavigateUp()ä»¥å¤„ç†å‘ä¸Šå¯¼èˆªï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">override fun onSupportNavigateUp(): Boolean &#123;</span><br><span class="line">    return navController.navigateUp(appBarConfiguration) || super.onSupportNavigateUp()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="å°†ç›®çš„åœ°ç»‘å®šåˆ°èœå•é¡¹"><a href="#å°†ç›®çš„åœ°ç»‘å®šåˆ°èœå•é¡¹" class="headerlink" title="å°†ç›®çš„åœ°ç»‘å®šåˆ°èœå•é¡¹"></a>å°†ç›®çš„åœ°ç»‘å®šåˆ°èœå•é¡¹</h4><p>NavigationUIè¿˜æä¾›äº†å°†ç›®æ ‡ç»‘å®šåˆ°èœå•é©±åŠ¨çš„UIç»„ä»¶çš„å¸®åŠ©ç¨‹åºã€‚NavigationUIåŒ…å«ä¸€ä¸ªè¾…åŠ©æ–¹æ³•ï¼ŒonNavDestinationSelected()å®ƒMenuItemä¸NavControlleræ‰˜ç®¡å…³è”ç›®æ ‡çš„æ–¹æ³•ä¸€èµ·ä½¿ç”¨ ã€‚å¦‚æœidåœ¨çš„MenuItemæ¯”èµ›çš„idç›®æ ‡æ—¶ï¼ŒNavControllerå¯ä»¥ç„¶åå¯¼èˆªåˆ°ç›®çš„åœ°ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªä¾‹å­ï¼Œä¸‹é¢çš„XMLç‰‡æ–­å®šä¹‰ä¸€ä¸ªèœå•é¡¹ï¼Œå¹¶å…· <strong>æœ‰å…±åŒçš„ç›®çš„åœ°idï¼ˆidéœ€è¦ä¸€è‡´ï¼‰</strong>  ï¼Œdetails_page_fragmentï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;navigation xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    ... &gt;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    &lt;fragment android:id=&quot;@+id/details_page_fragment&quot;</span><br><span class="line">         android:label=&quot;@string/details&quot;</span><br><span class="line">         android:name=&quot;com.example.android.myapp.DetailsFragment&quot; /&gt;</span><br><span class="line">&lt;/navigation&gt;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    &lt;item</span><br><span class="line">        android:id=&quot;@id/details_page_fragment&quot;</span><br><span class="line">        android:icon=&quot;@drawable/ic_details&quot;</span><br><span class="line">        android:title=&quot;@string/details&quot; /&gt;</span><br><span class="line">&lt;/menu&gt;</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„èœå•æ˜¯é€šè¿‡Activityçš„onCreateOptionsMenuï¼ˆï¼‰æ·»åŠ çš„ï¼Œåˆ™å¯ä»¥é€šè¿‡è¦†ç›–Activityçš„onOptionsItemSelectedï¼ˆï¼‰æ¥è°ƒç”¨onNavDestinationSelectedï¼ˆï¼‰æ¥å…³è”èœå•é¡¹å’Œç›®æ ‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onOptionsItemSelected</span><span class="params">(item: <span class="type">MenuItem</span>)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> navController = findNavController(R.id.nav_host)</span><br><span class="line">    <span class="keyword">return</span> item.onNavDestinationSelected(navController) || <span class="keyword">super</span>.onOptionsItemSelected(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç°åœ¨ï¼Œå½“ç”¨æˆ·å•å‡»details_page_fragmentèœå•é¡¹æ—¶ï¼Œåº”ç”¨ç¨‹åºä¼šè‡ªåŠ¨å¯¼èˆªåˆ° <strong>å…·æœ‰ç›¸åŒIDçš„ç›¸åº”ç›®æ ‡</strong> ã€‚</p>
<h4 id="æ·»åŠ å¯¼èˆªæŠ½å±‰"><a href="#æ·»åŠ å¯¼èˆªæŠ½å±‰" class="headerlink" title="æ·»åŠ å¯¼èˆªæŠ½å±‰"></a>æ·»åŠ å¯¼èˆªæŠ½å±‰</h4><p>å¯¼èˆªæŠ½å±‰æ˜¯ä¸€ä¸ªUIé¢æ¿ï¼Œæ˜¾ç¤ºåº”ç”¨ç¨‹åºçš„ä¸»å¯¼èˆªèœå•ã€‚ å½“ç”¨æˆ·è§¦æ‘¸åº”ç”¨æ ä¸­çš„æŠ½å±‰å›¾æ ‡æˆ–ç”¨æˆ·ä»å±å¹•çš„å·¦è¾¹ç¼˜æ»‘åŠ¨æ‰‹æŒ‡æ—¶ï¼ŒæŠ½å±‰å‡ºç°ã€‚<br><img src="./images/navigation-drawer.png" alt="å¯¼èˆªæŠ½å±‰"><br>æŠ½å±‰å›¾æ ‡æ˜¾ç¤ºåœ¨ä½¿ç”¨DrawerLayoutçš„æ‰€æœ‰é¡¶çº§ç›®æ ‡ä¸Šã€‚ é¡¶çº§ç›®æ ‡æ˜¯åº”ç”¨ç¨‹åºçš„æ ¹çº§ç›®æ ‡ã€‚ å®ƒä»¬ä¸ä¼šåœ¨åº”ç”¨æ ä¸­æ˜¾ç¤ºâ€œå‘ä¸Šâ€æŒ‰é’®ã€‚</p>
<p>è¦æ·»åŠ å¯¼èˆªæŠ½å±‰ï¼Œé¦–å…ˆå°†DrawerLayoutå£°æ˜ä¸ºæ ¹è§†å›¾ã€‚ åœ¨DrawerLayoutå†…ï¼Œæ·»åŠ ä¸»UIå†…å®¹çš„å¸ƒå±€å’ŒåŒ…å«å¯¼èˆªæŠ½å±‰å†…å®¹çš„å¦ä¸€ä¸ªè§†å›¾ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹å¸ƒå±€ä½¿ç”¨å…·æœ‰ä¸¤ä¸ªå­è§†å›¾çš„DrawerLayoutï¼šNavHostFragmentåŒ…å«ä¸»è¦å†…å®¹ï¼ŒNavigationViewç”¨äºå¯¼èˆªæŠ½å±‰çš„å†…å®¹ã€‚<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="comment">&lt;!-- Use DrawerLayout as root container for activity --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/drawer_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Layout to contain contents of main body of screen (drawer will slide over this) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"androidx.navigation.fragment.NavHostFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/nav_host_fragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:defaultNavHost</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:navGraph</span>=<span class="string">"@navigation/nav_graph"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Container for contents of drawer - use NavigationView to make configuration easier --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.NavigationView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/nav_view"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_gravity</span>=<span class="string">"start"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥ï¼ŒDrawerLayout é€šè¿‡å°†å…¶ä¼ é€’åˆ°å¯¼èˆªå›¾ï¼Œå°†å…¶è¿æ¥åˆ°AppBarConfigurationï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val appBarConfiguration = AppBarConfiguration(navController.graph, drawerLayout)</span><br></pre></td></tr></table></figure>
<p>âš ï¸ï¼šä½¿ç”¨æ—¶NavigationUIï¼Œé¡¶éƒ¨åº”ç”¨æ å¸®åŠ©å™¨ä¼šåœ¨å½“å‰ç›®æ ‡æ›´æ”¹æ—¶è‡ªåŠ¨åœ¨æŠ½å±‰å›¾æ ‡å’Œâ€œå‘ä¸Šâ€å›¾æ ‡ä¹‹é—´åˆ‡æ¢ã€‚ä½ ä¸éœ€è¦ä½¿ç”¨ ActionBarDrawerToggleã€‚<br>æ¥ä¸‹æ¥ï¼Œåœ¨ä¸»Activityç±»ä¸­ï¼ŒsetupWithNavController() ä»ä¸»æ´»åŠ¨çš„onCreate()æ–¹æ³•è°ƒç”¨ ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class="line">    setContentView(R.layout.activity_main)</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    val navController = findNavController(R.id.nav_host_fragment)</span><br><span class="line">    findViewById&lt;NavigationView&gt;(R.id.nav_view)</span><br><span class="line">        .setupWithNavController(navController)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="åº•éƒ¨å¯¼èˆª"><a href="#åº•éƒ¨å¯¼èˆª" class="headerlink" title="åº•éƒ¨å¯¼èˆª"></a>åº•éƒ¨å¯¼èˆª</h4><p>NavigationUIä¹Ÿå¯ä»¥å¤„ç†åº•éƒ¨å¯¼èˆªã€‚å½“ç”¨æˆ·é€‰æ‹©èœå•é¡¹æ—¶ï¼ŒNavControllerè°ƒç”¨ onNavDestinationSelected() å¹¶è‡ªåŠ¨æ›´æ–°åº•éƒ¨å¯¼èˆªæ ä¸­çš„æ‰€é€‰é¡¹ã€‚<br><img src="./images/bottom-navigation.png" alt="åº•éƒ¨å¯¼èˆª"><br>è¦åœ¨åº”ç”¨ä¸­åˆ›å»ºåº•éƒ¨å¯¼èˆªæ ï¼Œè¯·å…ˆåœ¨ä¸»è¦æ´»åŠ¨ä¸­å®šä¹‰æ ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/nav_host_fragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">...</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.BottomNavigationView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/bottom_nav"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:menu</span>=<span class="string">"@menu/menu_bottom_nav"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨Activityä¸­ï¼ŒsetupWithNavController() ä»ä¸»æ´»åŠ¨çš„onCreate()æ–¹æ³•è°ƒç”¨ ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">override fun onCreate(savedInstanceState: Bundle?) &#123;</span><br><span class="line">    setContentView(R.layout.activity_main)</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    val navController = findNavController(R.id.nav_host_fragment)</span><br><span class="line">    findViewById&lt;BottomNavigationView&gt;(R.id.bottom_nav)</span><br><span class="line">        .setupWithNavController(navController)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åµŒå¥—å¯¼èˆªå›¾"><a href="#åµŒå¥—å¯¼èˆªå›¾" class="headerlink" title="åµŒå¥—å¯¼èˆªå›¾"></a>åµŒå¥—å¯¼èˆªå›¾</h3><p>å¯ä»¥å°†ä¸€ç³»åˆ—ç›®æ ‡åˆ†ç»„ä¸ºç§°ä¸ºæ ¹å›¾çš„çˆ¶å¯¼èˆªå›¾ä¸­çš„åµŒå¥—å›¾ã€‚ åµŒå¥—å›¾å¯¹äºç»„ç»‡å’Œé‡ç”¨åº”ç”¨ç¨‹åºUIçš„å„ä¸ªéƒ¨åˆ†éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚è‡ªåŒ…å«çš„ç™»å½•æµç¨‹ã€‚</p>
<p>åµŒå¥—å›¾å°è£…äº†å…¶ç›®æ ‡ã€‚ ä¸æ ¹å›¾ä¸€æ ·ï¼ŒåµŒå¥—å›¾å¿…é¡»å°†ç›®æ ‡æ ‡è¯†ä¸ºèµ·å§‹ç›®æ ‡ã€‚ åµŒå¥—å›¾å¤–éƒ¨çš„ç›®æ ‡ï¼ˆä¾‹å¦‚æ ¹å›¾ä¸Šçš„ç›®æ ‡ï¼‰ä»…é€šè¿‡å…¶èµ·å§‹ç›®æ ‡è®¿é—®åµŒå¥—å›¾ã€‚</p>
<p>å›¾æ˜¾ç¤ºäº†ä¸€ä¸ªç®€å•çš„æ±‡æ¬¾åº”ç”¨ç¨‹åºçš„å¯¼èˆªå›¾ã€‚ ä»å·¦ä¾§çš„èµ·å§‹ç›®çš„åœ°å¼€å§‹ï¼Œå›¾è¡¨æœ‰ä¸¤ä¸ªæµç¨‹ï¼šä¸€ä¸ªæ²¿ç€é¡¶éƒ¨ç”¨äºå‘é€è´§å¸ï¼Œå¦ä¸€ä¸ªæ²¿ç€åº•éƒ¨ç”¨äºæŸ¥çœ‹å¸æˆ·ä½™é¢ã€‚<br><img src="./images/navigation-pre-nestedgraph_2x.png" alt="æ±‡æ¬¾å¯¼èˆªå›¾"><br>è¦å°†ç›®æ ‡åˆ†ç»„åˆ°åµŒå¥—å›¾ä¸­ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>åœ¨å¯¼èˆªç¼–è¾‘å™¨ä¸­ï¼ŒæŒ‰ä½Shifté”®ï¼Œç„¶åå•å‡»è¦åŒ…å«åœ¨åµŒå¥—å›¾ä¸­çš„ç›®æ ‡ã€‚</li>
<li>å³é”®å•å‡»ä»¥æ‰“å¼€ä¸Šä¸‹æ–‡èœå•ï¼Œç„¶åé€‰æ‹© <strong>Move to Nested Graph &gt; New Graph</strong> ã€‚ç›®æ ‡åŒ…å«åœ¨åµŒå¥—å›¾ä¸­ã€‚å›¾æ˜¾ç¤ºäº† <strong>Navigation Editor</strong> ä¸­çš„åµŒå¥—å›¾ï¼š<br><img src="./images/navigation-nestedgraph_2x.png" alt="Graph Editorä¸­çš„åµŒå¥—å›¾"></li>
<li><p>å•å‡»åµŒå¥—å›¾ã€‚<strong>Attributes</strong> é¢æ¿ä¸­æ˜¾ç¤ºä»¥ä¸‹å±æ€§ ï¼š</p>
<ul>
<li>Typeï¼Œå…¶ä¸­åŒ…å«â€Nested Graphâ€</li>
<li>IDï¼ŒåŒ…å«åµŒå¥—å›¾çš„ç³»ç»Ÿåˆ†é…IDã€‚æ­¤IDç”¨äºå¼•ç”¨ä»£ç ä¸­çš„åµŒå¥—å›¾ã€‚</li>
</ul>
</li>
<li><p>åŒå‡»åµŒå¥—å›¾å½¢ä»¥æ˜¾ç¤ºå…¶ç›®æ ‡ã€‚</p>
</li>
<li><p>å•å‡» <strong>Text</strong> é€‰é¡¹å¡ä»¥åˆ‡æ¢åˆ°XMLè§†å›¾ã€‚å›¾è¡¨ä¸­æ·»åŠ äº†åµŒå¥—å¯¼èˆªå›¾ã€‚æ­¤å¯¼èˆªå›¾æœ‰è‡ªå·±çš„navigation å…ƒç´ ï¼Œä»¥åŠå®ƒè‡ªå·±çš„IDå’ŒstartDestinationæŒ‡å‘åµŒå¥—å›¾ä¸­ç¬¬ä¸€ä¸ªç›®æ ‡çš„å±æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;navigation xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    app:startDestination=&quot;@id/mainFragment&quot;&gt;</span><br><span class="line">    &lt;fragment</span><br><span class="line">        android:id=&quot;@+id/mainFragment&quot;</span><br><span class="line">        android:name=&quot;com.example.cashdog.cashdog.MainFragment&quot;</span><br><span class="line">        android:label=&quot;fragment_main&quot;</span><br><span class="line">        tools:layout=&quot;@layout/fragment_main&quot; &gt;</span><br><span class="line">        &lt;action</span><br><span class="line">            android:id=&quot;@+id/action_mainFragment_to_chooseRecipient&quot;</span><br><span class="line">            app:destination=&quot;@id/sendMoneyGraph&quot; /&gt;</span><br><span class="line">        &lt;action</span><br><span class="line">            android:id=&quot;@+id/action_mainFragment_to_viewBalanceFragment&quot;</span><br><span class="line">            app:destination=&quot;@id/viewBalanceFragment&quot; /&gt;</span><br><span class="line">    &lt;/fragment&gt;</span><br><span class="line">    &lt;fragment</span><br><span class="line">        android:id=&quot;@+id/viewBalanceFragment&quot;</span><br><span class="line">        android:name=&quot;com.example.cashdog.cashdog.ViewBalanceFragment&quot;</span><br><span class="line">        android:label=&quot;fragment_view_balance&quot;</span><br><span class="line">        tools:layout=&quot;@layout/fragment_view_balance&quot; /&gt;</span><br><span class="line">    &lt;navigation android:id=&quot;@+id/sendMoneyGraph&quot; app:startDestination=&quot;@id/chooseRecipient&quot;&gt;</span><br><span class="line">        &lt;fragment</span><br><span class="line">            android:id=&quot;@+id/chooseRecipient&quot;</span><br><span class="line">            android:name=&quot;com.example.cashdog.cashdog.ChooseRecipient&quot;</span><br><span class="line">            android:label=&quot;fragment_choose_recipient&quot;</span><br><span class="line">            tools:layout=&quot;@layout/fragment_choose_recipient&quot;&gt;</span><br><span class="line">            &lt;action</span><br><span class="line">                android:id=&quot;@+id/action_chooseRecipient_to_chooseAmountFragment&quot;</span><br><span class="line">                app:destination=&quot;@id/chooseAmountFragment&quot; /&gt;</span><br><span class="line">        &lt;/fragment&gt;</span><br><span class="line">        &lt;fragment</span><br><span class="line">            android:id=&quot;@+id/chooseAmountFragment&quot;</span><br><span class="line">            android:name=&quot;com.example.cashdog.cashdog.ChooseAmountFragment&quot;</span><br><span class="line">            android:label=&quot;fragment_choose_amount&quot;</span><br><span class="line">            tools:layout=&quot;@layout/fragment_choose_amount&quot; /&gt;</span><br><span class="line">    &lt;/navigation&gt;</span><br><span class="line">&lt;/navigation&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æ‚¨çš„ä»£ç ä¸­ï¼Œå°†è¿æ¥æ ¹å›¾çš„æ“ä½œçš„èµ„æºIDä¼ é€’ç»™åµŒå¥—å›¾ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.findNavController().navigate(R.id.action_mainFragment_to_sendMoneyGraph)</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å› <strong>Design</strong> é€‰é¡¹å¡ï¼Œå¯ä»¥é€šè¿‡å•å‡» <strong>Root</strong> è¿”å›åˆ°æ ¹å›¾ ã€‚</p>
</li>
</ol>
<h4 id="ä½¿ç”¨å¼•ç”¨å…¶ä»–å¯¼èˆªå›¾"><a href="#ä½¿ç”¨å¼•ç”¨å…¶ä»–å¯¼èˆªå›¾" class="headerlink" title="ä½¿ç”¨å¼•ç”¨å…¶ä»–å¯¼èˆªå›¾"></a>ä½¿ç”¨<include>å¼•ç”¨å…¶ä»–å¯¼èˆªå›¾</include></h4><p>åœ¨å¯¼èˆªå›¾ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨includeå¼•ç”¨å…¶ä»–å›¾å½¢ã€‚ è™½ç„¶è¿™åœ¨åŠŸèƒ½ä¸Šä¸ä½¿ç”¨åµŒå¥—å›¾ç›¸åŒï¼Œä½†includeå…è®¸æ‚¨ä½¿ç”¨å…¶ä»–é¡¹ç›®æ¨¡å—æˆ–åº“é¡¹ç›®ä¸­çš„å›¾å½¢ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- (root) nav_graph.xml --&gt;</span></span><br><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">navigation</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/nav_graph"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:startDestination</span>=<span class="string">"@id/fragment"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">app:graph</span>=<span class="string">"@navigation/included_graph"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/fragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"com.example.myapplication.BlankFragment"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"Fragment in Root Graph"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:layout</span>=<span class="string">"@layout/fragment_blank"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/action_fragment_to_second_graph"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:destination</span>=<span class="string">"@id/second_graph"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fragment</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">navigation</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- included_graph.xml --&gt;</span></span><br><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">navigation</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/second_graph"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:startDestination</span>=<span class="string">"@id/includedStart"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">fragment</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/includedStart"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"com.example.myapplication.IncludedStart"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"fragment_included_start"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">tools:layout</span>=<span class="string">"@layout/fragment_included_start"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">navigation</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®ä¼ é€’"><a href="#æ•°æ®ä¼ é€’" class="headerlink" title="æ•°æ®ä¼ é€’"></a>æ•°æ®ä¼ é€’</h3><p>å¯¼èˆªå…è®¸æ‚¨é€šè¿‡å®šä¹‰ç›®æ ‡çš„å‚æ•°å°†æ•°æ®é™„åŠ åˆ°å¯¼èˆªæ“ä½œã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·é…ç½®æ–‡ä»¶ç›®æ ‡å¯èƒ½ä¼šä½¿ç”¨ç”¨æˆ·IDå‚æ•°æ¥ç¡®å®šè¦æ˜¾ç¤ºçš„ç”¨æˆ·ã€‚</p>
<p>é€šå¸¸ï¼Œæ‚¨åº”è¯¥æ›´å€¾å‘äºä»…åœ¨ç›®æ ‡ä¹‹é—´ä¼ é€’æœ€å°‘é‡çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œæ‚¨åº”è¯¥ä¼ é€’ä¸€ä¸ªé”®æ¥æ£€ç´¢ä¸€ä¸ªå¯¹è±¡è€Œä¸æ˜¯ä¼ é€’è¯¥å¯¹è±¡æœ¬èº«ï¼Œå› ä¸ºæ‰€æœ‰å·²ä¿å­˜çŠ¶æ€çš„æ€»ç©ºé—´åœ¨Androidä¸Šæ˜¯æœ‰é™çš„ã€‚å¦‚æœéœ€è¦ä¼ é€’å¤§é‡æ•°æ®ï¼Œè¯·è€ƒè™‘ä½¿ç”¨ç‰‡æ®µä¹‹é—´å…±äº«æ•°æ®ä¸­ViewModelæ‰€è¿°çš„æ–¹æ³• ã€‚</p>
<h4 id="å®šä¹‰ç›®æ ‡å‚æ•°"><a href="#å®šä¹‰ç›®æ ‡å‚æ•°" class="headerlink" title="å®šä¹‰ç›®æ ‡å‚æ•°"></a>å®šä¹‰ç›®æ ‡å‚æ•°</h4><p>è¦åœ¨ç›®æ ‡ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œé¦–å…ˆé€šè¿‡ä»¥ä¸‹æ­¥éª¤å°†å‚æ•°æ·»åŠ åˆ°æ¥æ”¶å®ƒçš„ç›®æ ‡æ¥å®šä¹‰å‚æ•°ï¼š</p>
<ol>
<li>åœ¨å¯¼èˆªç¼–è¾‘å™¨ä¸­ï¼Œå•å‡»æ¥æ”¶å‚æ•°çš„ç›®æ ‡ã€‚</li>
<li>åœ¨ <strong>Attributes</strong> é¢æ¿ä¸­ï¼Œå•å‡» <strong>Addï¼ˆ+ï¼‰</strong>ã€‚</li>
<li>åœ¨å‡ºç°çš„ <strong>Add Argument Link</strong> çª—å£ä¸­ï¼Œè¾“å…¥å‚æ•°åç§°ï¼Œå‚æ•°ç±»å‹ï¼Œå‚æ•°æ˜¯å¦å¯ä¸ºç©ºï¼Œä»¥åŠé»˜è®¤å€¼ï¼ˆå¦‚æœéœ€è¦ï¼‰ã€‚</li>
<li>å•å‡» <strong>Add</strong> ã€‚è¯·æ³¨æ„ï¼Œè¯¥å‚æ•°ç°åœ¨æ˜¾ç¤º åœ¨ <strong>Arguments</strong> é¢æ¿çš„ <strong>Attributes</strong> åˆ—è¡¨ä¸­ã€‚</li>
<li>æ¥ä¸‹æ¥ï¼Œå•å‡»å°†æ‚¨å¸¦åˆ°æ­¤ç›®çš„åœ°çš„ç›¸åº”æ“ä½œã€‚åœ¨ <strong>Attributes</strong> é¢æ¿ä¸­ï¼Œæ‚¨ç°åœ¨åº”è¯¥åœ¨  <strong>Argument Default Values</strong> éƒ¨åˆ†ä¸­çœ‹åˆ°æ–°æ·»åŠ çš„å‚æ•°ã€‚</li>
<li>æ‚¨è¿˜å¯ä»¥çœ‹åˆ°è¯¥å‚æ•°æ˜¯ä»¥XMLæ ¼å¼æ·»åŠ çš„ã€‚å•å‡» <strong>Text</strong> é€‰é¡¹å¡ä»¥åˆ‡æ¢åˆ°XMLè§†å›¾ï¼Œå¹¶æ³¨æ„æ‚¨çš„å‚æ•°å·²æ·»åŠ åˆ°æ¥æ”¶å‚æ•°çš„ç›®æ ‡ã€‚ä¸€ä¸ªä¾‹å­å¦‚ä¸‹æ‰€ç¤ºï¼š</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fragment</span> <span class="attr">android:id</span>=<span class="string">"@+id/myFragment"</span> &gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">argument</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:name</span>=<span class="string">"myArg"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">app:argType</span>=<span class="string">"integer"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">android:defaultValue</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">fragment</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="è¦†ç›–æ“ä½œä¸­çš„ç›®æ ‡å‚æ•°"><a href="#è¦†ç›–æ“ä½œä¸­çš„ç›®æ ‡å‚æ•°" class="headerlink" title="è¦†ç›–æ“ä½œä¸­çš„ç›®æ ‡å‚æ•°"></a>è¦†ç›–æ“ä½œä¸­çš„ç›®æ ‡å‚æ•°</h4><p>ç›®æ ‡çº§å‚æ•°å’Œé»˜è®¤å€¼ç”±å¯¼èˆªåˆ°ç›®æ ‡çš„æ‰€æœ‰æ“ä½œä½¿ç”¨ã€‚å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨æ“ä½œçº§åˆ«å®šä¹‰å‚æ•°æ¥è¦†ç›–å‚æ•°çš„é»˜è®¤å€¼ï¼ˆå¦‚æœå°šä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®ä¸€ä¸ªå‚æ•°ï¼‰ã€‚æ­¤å‚æ•°å¿…é¡»ä¸ç›®æ ‡ä¸­å£°æ˜çš„å‚æ•° <strong>å…·æœ‰ç›¸åŒçš„åç§°å’Œç±»å‹</strong> ã€‚</p>
<p>ä¸‹é¢çš„XMLå£°æ˜äº†ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„æ“ä½œï¼Œè¯¥å‚æ•°è¦†ç›–äº†ä¸Šé¢ç¤ºä¾‹ä¸­çš„ç›®æ ‡çº§å‚æ•°ï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">android:id</span>=<span class="string">"@+id/startMyFragment"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">app:destination</span>=<span class="string">"@+id/myFragment"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">argument</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">"myArg"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:argType</span>=<span class="string">"integer"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:defaultValue</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h4 id="ä½¿ç”¨Safe-Argsä¼ é€’ç±»å‹å®‰å…¨çš„æ•°æ®"><a href="#ä½¿ç”¨Safe-Argsä¼ é€’ç±»å‹å®‰å…¨çš„æ•°æ®" class="headerlink" title="ä½¿ç”¨Safe Argsä¼ é€’ç±»å‹å®‰å…¨çš„æ•°æ®"></a>ä½¿ç”¨Safe Argsä¼ é€’ç±»å‹å®‰å…¨çš„æ•°æ®</h4><p>Navigation Architecture Componentæœ‰ä¸€ä¸ªåä¸ºSafe Argsçš„Gradleæ’ä»¶ï¼Œå®ƒç”Ÿæˆç®€å•çš„å¯¹è±¡å’Œæ„å»ºå™¨ç±»ï¼Œä»¥ä¾¿å¯¹ç›®æ ‡å’Œæ“ä½œæŒ‡å®šçš„å‚æ•°è¿›è¡Œç±»å‹å®‰å…¨è®¿é—®ã€‚</p>
<p>è¦ä½¿ç”¨Safe Argsï¼Œè¯·å…ˆå°†androidx.navigation.safeargsæ’ä»¶æ·»åŠ åˆ°åº”ç”¨ç¨‹åºçš„build.gradleæ–‡ä»¶ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">apply plugin: <span class="string">'com.android.application'</span></span><br><span class="line">apply plugin: <span class="string">'androidx.navigation.safeargs'</span></span><br><span class="line"></span><br><span class="line">android &#123;</span><br><span class="line">   <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¾‹å¤–è¿˜éœ€åœ¨é¡¹ç›®build.gradleä¸­æ·»åŠ ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">classpath &quot;android.arch.navigation:navigation-safe-args-gradle-plugin:1.0.0-alpha09&quot;</span><br></pre></td></tr></table></figure></p>
<p>å¯ç”¨æ’ä»¶åï¼Œç”Ÿæˆçš„ä»£ç åŒ…å«æ“ä½œçš„å…¶ä»–ç®€å•å¯¹è±¡å’Œæ„å»ºå™¨ç±»ä»¥åŠå‘é€å’Œæ¥æ”¶ç›®æ ‡ã€‚è¿™äº›ç±»æè¿°å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸ºåŠ¨ä½œå‘èµ·çš„æ¯ä¸ªç›®æ ‡åˆ›å»ºä¸€ä¸ªç±»ã€‚æ­¤ç±»çš„åç§°æ˜¯å§‹å‘ç›®æ ‡çš„åç§°ï¼Œåé¢é™„åŠ  <strong>â€œDirectionsâ€</strong> ä¸€è¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå§‹å‘ç›®æ ‡æ˜¯å·²å‘½åçš„ç‰‡æ®µï¼ŒSpecifyAmountFragmentåˆ™å°†è°ƒç”¨ç”Ÿæˆçš„ç±» SpecifyAmountFragmentDirectionsã€‚</li>
<li>æ­¤ç±»å…·æœ‰é’ˆå¯¹å§‹å‘ç›®æ ‡ä¸­å®šä¹‰çš„æ¯ä¸ªæ“ä½œçš„æ–¹æ³•ã€‚</li>
<li>å¯¹äºç”¨äºä¼ é€’å‚æ•°çš„æ¯ä¸ªæ“ä½œï¼Œå°†åˆ›å»ºä¸€ä¸ªå†…éƒ¨ç±»ï¼Œå…¶åç§°åŸºäºæ“ä½œã€‚ä¾‹å¦‚ï¼Œå¦‚æœè°ƒç”¨confirmationAction,è¯¥æ“ä½œ ï¼Œåˆ™å‘½åè¯¥ç±»ConfirmationActionã€‚</li>
<li>ä¸ºæ¥æ”¶ç›®æ ‡åˆ›å»ºä¸€ä¸ªç±»ã€‚æ­¤ç±»çš„åç§°æ˜¯ç›®æ ‡çš„åç§°ï¼Œåé¢é™„åŠ å•è¯â€œArgsâ€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå‘½åç›®æ ‡ç‰‡æ®µï¼ŒConfirmationFragment,åˆ™è°ƒç”¨ç”Ÿæˆçš„ç±»ConfirmationFragmentArgsã€‚ä½¿ç”¨æ­¤ç±»çš„fromBundle()æ–¹æ³•æ¥æ£€ç´¢å‚æ•°ã€‚</li>
</ul>
<p>ä»¥ä¸‹ç¤ºä¾‹è¯´æ˜å¦‚ä½•ä½¿ç”¨è¿™äº›æ–¹æ³•è®¾ç½®å‚æ•°å¹¶å°†å…¶ä¼ é€’ç»™navigate() æ–¹æ³•ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">override fun <span class="title">onClick</span><span class="params">(v: View)</span> </span>&#123;</span><br><span class="line">   val amountTv: EditText = view!!.findViewById(R.id.editTextAmount)</span><br><span class="line">   val amount = amountTv.text.toString().toInt()</span><br><span class="line">   val action = SpecifyAmountFragmentDirections.confirmationAction(amount)</span><br><span class="line">   v.findNavController().navigate(action)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æ¥æ”¶ç›®æ ‡çš„ä»£ç ä¸­ï¼Œä½¿ç”¨è¯¥ getArguments()æ–¹æ³•æ£€ç´¢åŒ…å¹¶ä½¿ç”¨å…¶å†…å®¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">override fun <span class="title">onViewCreated</span><span class="params">(view: View, savedInstanceState: Bundle?)</span> </span>&#123;</span><br><span class="line">    val tv: TextView = view.findViewById(R.id.textViewAmount)</span><br><span class="line">    val amount = ConfirmationFragmentArgs.fromBundle(arguments).amount</span><br><span class="line">    tv.text = amount.toString()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä½¿ç”¨å…·æœ‰å…¨å±€æ“ä½œçš„Safe-Args"><a href="#ä½¿ç”¨å…·æœ‰å…¨å±€æ“ä½œçš„Safe-Args" class="headerlink" title="ä½¿ç”¨å…·æœ‰å…¨å±€æ“ä½œçš„Safe Args"></a>ä½¿ç”¨å…·æœ‰å…¨å±€æ“ä½œçš„Safe Args</h5><p>ä½¿ç”¨å…·æœ‰å…¨å±€æ“ä½œçš„ Safe Argsæ—¶ ï¼Œå¿…é¡»ä¸ºandroid:idæ ¹<navigation>å…ƒç´ æä¾›å€¼ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">navigation</span> <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/main_nav"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">app:startDestination</span>=<span class="string">"@id/mainFragment"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">navigation</span>&gt;</span></span><br></pre></td></tr></table></figure></navigation></p>
<p>å¯¼èˆªä¸ºåŸºäºè¯¥å€¼Directionsçš„<navigation>å…ƒç´ ç”Ÿæˆä¸€ä¸ªç±»android:idã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ª<navigation> å…ƒç´ android:id=@+id/main_navï¼Œåˆ™è°ƒç”¨ç”Ÿæˆçš„ç±» MainNavDirectionsã€‚<navigation>å…ƒç´ ä¸­çš„æ‰€æœ‰ç›®æ ‡éƒ½æ‰©å±•äº†MainNavDirectionsç±»ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¸ä¸Šä¸€èŠ‚ä¸­æè¿°çš„æ–¹æ³•ç›¸åŒçš„æ–¹æ³•è®¿é—®æ‰€æœ‰å…³è”çš„å…¨å±€æ“ä½œã€‚</navigation></navigation></navigation></p>
<h4 id="ä½¿ç”¨Bundleå¯¹è±¡åœ¨ç›®æ ‡ä¹‹é—´ä¼ é€’æ•°æ®"><a href="#ä½¿ç”¨Bundleå¯¹è±¡åœ¨ç›®æ ‡ä¹‹é—´ä¼ é€’æ•°æ®" class="headerlink" title="ä½¿ç”¨Bundleå¯¹è±¡åœ¨ç›®æ ‡ä¹‹é—´ä¼ é€’æ•°æ®"></a>ä½¿ç”¨Bundleå¯¹è±¡åœ¨ç›®æ ‡ä¹‹é—´ä¼ é€’æ•°æ®</h4><p>å¦‚æœæ‚¨ä¸ä½¿ç”¨Gradleï¼Œåˆ™ä»å¯ä»¥ä½¿ç”¨Bundleå¯¹è±¡åœ¨ç›®æ ‡ä¹‹é—´ä¼ é€’å‚æ•°ã€‚ä½¿ç”¨åˆ›å»ºBundleå¯¹è±¡å¹¶å°†å…¶ä¼ é€’åˆ°ç›®æ ‡navigate()ï¼Œå¦‚ä¸‹æ‰€ç¤º<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var bundle = bundleOf(<span class="string">"amount"</span> to amount)</span><br><span class="line">view.findNavController().navigate(R.id.confirmationAction, bundle)</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æ¥æ”¶ç›®æ ‡çš„ä»£ç ä¸­ï¼Œä½¿ç”¨è¯¥ getArguments()æ–¹æ³•æ£€ç´¢Bundleå¹¶ä½¿ç”¨å…¶å†…å®¹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">val tv = view.findViewById&lt;TextView&gt;(R.id.textViewAmount)</span><br><span class="line">tv.text = arguments.getString(<span class="string">"amount"</span>)</span><br></pre></td></tr></table></figure></p>
<h3 id="æ”¯æŒ"><a href="#æ”¯æŒ" class="headerlink" title="æ”¯æŒ"></a>æ”¯æŒ</h3><p>æ·»åŠ å¯¹æ–°ç›®æ ‡ç±»å‹çš„æ”¯æŒ<br>NavControllersä¾é ä¸€ä¸ªæˆ–å¤šä¸ªNavigatorå¯¹è±¡æ¥æ‰§è¡Œå¯¼èˆªæ“ä½œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ NavControllersæ”¯æŒé€šè¿‡ä½¿ç”¨ActivityNavigator ç±»åŠå…¶åµŒå¥— ActivityNavigator.Destination ç±»å¯¼èˆªåˆ°å¦ä¸€ä¸ªæ´»åŠ¨è€Œç¦»å¼€å¯¼èˆªå›¾ ã€‚ä¸ºäº†èƒ½å¤Ÿå¯¼èˆªåˆ°ä»»ä½•å…¶ä»–ç±»å‹çš„ç›®æ ‡ï¼ŒNavigatorå¿…é¡»å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–å¯¹è±¡æ·»åŠ åˆ° NavControllerã€‚ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨ç‰‡æ®µä½œä¸ºç›®æ ‡æ—¶ï¼Œä¼š NavHostFragment è‡ªåŠ¨å°†FragmentNavigator ç±»æ·»åŠ åˆ°å…¶ä¸­ NavControllerã€‚</p>
<p>è¦å‘aæ·»åŠ æ–°çš„Navigatorå¯¹è±¡ NavControllerï¼Œå¿…é¡»ä½¿ç”¨ç›¸åº”çš„Navigatorç±»çš„ getNavigatorProvider()æ–¹æ³•ï¼Œç„¶åä½¿ç”¨ç±»çš„addNavigator()æ–¹æ³•ã€‚ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†å°†è™šæ„CustomNavigator å¯¹è±¡æ·»åŠ åˆ°ä»¥ä¸‹å†…å®¹çš„ç¤ºä¾‹NavControllerï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">val customNavigator = CustomNavigator()</span><br><span class="line">navController.navigatorProvider += customNavigator</span><br></pre></td></tr></table></figure></p>
<p>å¤§å¤šæ•°Navigator ç±»éƒ½æœ‰ä¸€ä¸ªåµŒå¥—çš„ç›®æ ‡å­ç±»ã€‚æ­¤å­ç±»å¯ç”¨äºæŒ‡å®šç›®æ ‡å”¯ä¸€çš„å…¶ä»–å±æ€§ã€‚æœ‰å…³Destinationå­ç±»çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ç›¸åº”Navigatorç±»çš„å‚è€ƒæ–‡æ¡£ ã€‚</p>
<h3 id="æ¡ä»¶å¯¼èˆª"><a href="#æ¡ä»¶å¯¼èˆª" class="headerlink" title="æ¡ä»¶å¯¼èˆª"></a>æ¡ä»¶å¯¼èˆª</h3><p>æ‚¨çš„åº”ç”¨ç¨‹åºå¯èƒ½æœ‰ä¸€ç³»åˆ—æ¡ä»¶ç›®æ ‡ï¼Œè¿™äº›ç›®æ ‡ä»…åœ¨æŸäº›æ¡ä»¶ä¸‹ä½¿ç”¨ï¼Œä¾‹å¦‚å½“ç”¨æˆ·éœ€è¦ç™»å½•æ—¶ã€‚è¿™äº›ç›®æ ‡åº”åˆ›å»ºä¸ºå•ç‹¬çš„ç›®æ ‡ï¼Œæˆ–åµŒå¥—å¯¼èˆªå›¾ï¼Œå¦ä¸€ä¸ªç›®æ ‡ä½œä¸ºå¦ä¸€ä¸ªç›®æ ‡å¯åŠ¨éœ€è¦ã€‚å›¾1æ˜¾ç¤ºäº†å¯¼èˆªåˆ°é…ç½®æ–‡ä»¶ç›®çš„åœ°çš„ç”¨æˆ·ï¼Œè¯¥é…ç½®æ–‡ä»¶ç›®çš„åœ°ç¡®å®šç”¨æˆ·æœªç™»å½•åï¼Œè¦æ±‚ç”¨æˆ·å¯¼èˆªåˆ°ç™»å½•ç›®çš„åœ°ã€‚ç™»å½•ç›®çš„åœ°ç„¶ååœ¨ç™»å½•å®Œæˆåå°†ç”¨æˆ·è¿”å›åˆ°é…ç½®æ–‡ä»¶ç›®çš„åœ°ã€‚<br><img src="./images/navigation-conditional-graph.png" alt=""><br>ç™»å½•ç›®æ ‡åº”åœ¨è¿”å›åˆ°é…ç½®æ–‡ä»¶ç›®æ ‡åä»å¯¼èˆªå †æ ˆä¸­å¼¹å‡ºã€‚popBackStack() å¯¼èˆªå›åŸå§‹ç›®çš„åœ°æ—¶è°ƒç”¨ æ–¹æ³•ã€‚åŸå§‹ç›®æ ‡å°†ä»å¯¼èˆªå †æ ˆâ€œå¼¹å‡ºâ€å¹¶å˜ä¸ºæ´»åŠ¨çŠ¶æ€ã€‚</p>
<h3 id="å…¨å±€å¯¼èˆª"><a href="#å…¨å±€å¯¼èˆª" class="headerlink" title="å…¨å±€å¯¼èˆª"></a>å…¨å±€å¯¼èˆª</h3><p>æ‚¨å¯ä»¥ä½¿ç”¨å…¨å±€æ“ä½œæ¥åˆ›å»ºå¤šä¸ªç›®æ ‡å¯ä»¥ä½¿ç”¨çš„å…¬å…±æ“ä½œã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä¸åŒç›®çš„åœ°çš„æŒ‰é’®å¯¼èˆªåˆ°åŒä¸€ä¸»åº”ç”¨ç¨‹åºå±å¹•ã€‚</p>
<p>å¯¼èˆªç¼–è¾‘å™¨ä¸­çš„ä¸€ä¸ªå…¨å±€æ“ä½œç”±æŒ‡å‘å…³è”ç›®æ ‡çš„å°ç®­å¤´è¡¨ç¤ºï¼Œå¦‚å›¾1æ‰€ç¤º<br><img src="./images/navigation-global-action.png" alt="å¯¼å…¥åµŒå¥—å›¾çš„å…¨å±€æ“ä½œ"></p>
<h4 id="åˆ›å»ºä¸€ä¸ªå…¨å±€è¡ŒåŠ¨"><a href="#åˆ›å»ºä¸€ä¸ªå…¨å±€è¡ŒåŠ¨" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå…¨å±€è¡ŒåŠ¨"></a>åˆ›å»ºä¸€ä¸ªå…¨å±€è¡ŒåŠ¨</h4><p>è¦åˆ›å»ºå…¨å±€æ“ä½œï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li>åœ¨â€œ æ›²çº¿å›¾ç¼–è¾‘å™¨â€ä¸­ï¼Œå•å‡»ç›®æ ‡ä»¥çªå‡ºæ˜¾ç¤ºå®ƒã€‚</li>
<li>å³é”®å•å‡»ç›®æ ‡ä»¥æ˜¾ç¤ºä¸Šä¸‹æ–‡èœå•ã€‚</li>
<li>é€‰æ‹©æ·»åŠ æ“ä½œ&gt;å…¨å±€ã€‚ç®­å¤´ï¼ˆï¼‰å‡ºç°åœ¨ç›®çš„åœ°çš„å·¦ä¾§ã€‚</li>
<li>å•å‡»â€œ æ–‡æœ¬â€é€‰é¡¹å¡ä»¥å¯¼èˆªåˆ°XMLæ–‡æœ¬è§†å›¾ã€‚å…¨å±€æ“ä½œçš„XMLç±»ä¼¼äºä»¥ä¸‹å†…å®¹ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;navigation xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">            xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">            android:id=&quot;@+id/main_nav&quot;</span><br><span class="line">            app:startDestination=&quot;@id/mainFragment&quot;&gt;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  &lt;action android:id=&quot;@+id/action_global_mainFragment&quot;</span><br><span class="line">          app:destination=&quot;@id/mainFragment&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/navigation&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="ä½¿ç”¨å…¨å±€æ“ä½œ"><a href="#ä½¿ç”¨å…¨å±€æ“ä½œ" class="headerlink" title="ä½¿ç”¨å…¨å±€æ“ä½œ"></a>ä½¿ç”¨å…¨å±€æ“ä½œ</h4><p>è¦åœ¨ä»£ç ä¸­ä½¿ç”¨å…¨å±€æ“ä½œï¼Œè¯·å°†å…¨å±€æ“ä½œçš„èµ„æºIDä¼ é€’navigate() ç»™æ¯ä¸ªUIå…ƒç´ çš„æ–¹æ³•ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">viewTransactionButton.setOnClickListener &#123; view -&gt;</span><br><span class="line">    view.findNavController().navigate(R.id.action_global_mainFragment)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¿ç§»åˆ°å¯¼èˆª"><a href="#è¿ç§»åˆ°å¯¼èˆª" class="headerlink" title="è¿ç§»åˆ°å¯¼èˆª"></a>è¿ç§»åˆ°å¯¼èˆª</h3><p>è¯¥NavControllerå¯¼èˆªå›¾åŠå…¶å¯¼èˆªå›¾åŒ…å«åœ¨å•ä¸ªæ´»åŠ¨ä¸­ã€‚å› æ­¤ï¼Œåœ¨è¿ç§»ç°æœ‰é¡¹ç›®ä»¥ä½¿ç”¨å¯¼èˆªæ¶æ„ç»„ä»¶æ—¶ï¼Œè¯·é€šè¿‡ä¸ºæ¯ä¸ªæ´»åŠ¨ä¸­çš„ç›®æ ‡åˆ›å»ºå¯¼èˆªå›¾ï¼Œé‡ç‚¹å…³æ³¨ä¸€æ¬¡è¿ç§»ä¸€ä¸ªæ´»åŠ¨ã€‚<br><img src="./images/navigation-migrate1.png" alt="æ´»åŠ¨åŠå…¶å„ä¸ªå¯¼èˆªå›¾"><br>ç„¶åï¼Œå¯ä»¥é€šè¿‡å‘å¯¼èˆªå›¾æ·»åŠ æ´»åŠ¨ç›®æ ‡æ¥é“¾æ¥å•ç‹¬çš„æ´»åŠ¨ï¼Œä»è€Œæ›¿æ¢startActivity()æ•´ä¸ªä»£ç åº“ä¸­çš„ç°æœ‰ç”¨æ³•ã€‚</p>
<p><img src="./images/navigation-migrate2.png" alt="ä¸€ä¸ªActivityä¸­çš„å¯¼èˆªå›¾æŒ‡å‘ç¬¬äºŒä¸ªActivity"><br>åœ¨å¤šä¸ªæ´»åŠ¨å…±äº«ç›¸åŒå¸ƒå±€çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç»„åˆå¯¼èˆªå›¾ï¼Œå°†å¯¼èˆªè°ƒç”¨æ›¿æ¢ä¸ºæ´»åŠ¨ç›®æ ‡ï¼Œä»¥ç›´æ¥åœ¨ä¸¤ä¸ªå¯¼èˆªå›¾ä¹‹é—´å¯¼èˆªè°ƒç”¨ã€‚</p>
<p><img src="./images/navigation-migrate3.png" alt="åŒ…å«ç»„åˆå¯¼èˆªå›¾çš„æ´»åŠ¨ã€‚"></p>
<p>å‚è€ƒï¼š<br>[1]. å®˜ç½‘ <a href="https://developer.android.com/topic/libraries/architecture/navigation/" target="_blank" rel="noopener">https://developer.android.com/topic/libraries/architecture/navigation/</a><br>[2]. å®˜ç½‘demo <a href="https://github.com/googlecodelabs/android-navigation" target="_blank" rel="noopener">https://github.com/googlecodelabs/android-navigation</a><br>[3]. å®˜ç½‘æ•™ç¨‹ <a href="https://codelabs.developers.google.com/codelabs/android-navigation/#0" target="_blank" rel="noopener">https://codelabs.developers.google.com/codelabs/android-navigation/#0</a><br>[4]. å…³äºnavigationçš„è§£æ <a href="https://www.jianshu.com/p/ad040aab0e66" target="_blank" rel="noopener">https://www.jianshu.com/p/ad040aab0e66</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Navigation/" rel="tag"># Navigation</a>
          
            <a href="/tags/fragment/" rel="tag"># fragment</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/12/24/SpringBoot-Database-H2/" rel="next" title="SpringBoot Database H2">
                <i class="fa fa-chevron-left"></i> SpringBoot Database H2
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">CallteFoot</p>
              <p class="site-description motion-element" itemprop="description">the blog from a anroid coder</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">50</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">68</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¦‚å¿µ"><span class="nav-number">1.</span> <span class="nav-text">æ¦‚å¿µ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å¯¼èˆªæ¶æ„ç»„ä»¶"><span class="nav-number">1.1.</span> <span class="nav-text">å¯¼èˆªæ¶æ„ç»„ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å¯¼èˆªåŸç†"><span class="nav-number">1.2.</span> <span class="nav-text">å¯¼èˆªåŸç†</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#å›ºå®šèµ·å§‹ç›®çš„åœ°"><span class="nav-number">1.2.1.</span> <span class="nav-text">å›ºå®šèµ·å§‹ç›®çš„åœ°</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#å¯¼èˆªçŠ¶æ€åº”è¯¥é€šè¿‡å †æ ˆç›®çš„åœ°æ¥è¡¨ç¤º"><span class="nav-number">1.2.2.</span> <span class="nav-text">å¯¼èˆªçŠ¶æ€åº”è¯¥é€šè¿‡å †æ ˆç›®çš„åœ°æ¥è¡¨ç¤º</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#â€œå‘ä¸Šâ€æŒ‰é’®æ°¸è¿œä¸ä¼šé€€å‡ºæ‚¨çš„åº”ç”¨"><span class="nav-number">1.2.3.</span> <span class="nav-text">â€œå‘ä¸Šâ€æŒ‰é’®æ°¸è¿œä¸ä¼šé€€å‡ºæ‚¨çš„åº”ç”¨</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#åœ¨åº”ç”¨ç¨‹åºçš„ä»»åŠ¡ä¸­ï¼Œå‘ä¸Šå’Œå‘åç›¸åŒ"><span class="nav-number">1.2.4.</span> <span class="nav-text">åœ¨åº”ç”¨ç¨‹åºçš„ä»»åŠ¡ä¸­ï¼Œå‘ä¸Šå’Œå‘åç›¸åŒ</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#æ·±åº¦é“¾æ¥å’Œå¯¼èˆªåˆ°ç›®æ ‡åº”è¯¥äº§ç”Ÿç›¸åŒçš„å †æ ˆ"><span class="nav-number">1.2.5.</span> <span class="nav-text">æ·±åº¦é“¾æ¥å’Œå¯¼èˆªåˆ°ç›®æ ‡åº”è¯¥äº§ç”Ÿç›¸åŒçš„å †æ ˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½¿ç”¨"><span class="nav-number">2.</span> <span class="nav-text">ä½¿ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸ºé¡¹ç›®å¼•å…¥å¯¼èˆªç»„ä»¶"><span class="nav-number">2.1.</span> <span class="nav-text">ä¸ºé¡¹ç›®å¼•å…¥å¯¼èˆªç»„ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åˆ›å»ºå¯¼èˆªå›¾"><span class="nav-number">2.2.</span> <span class="nav-text">åˆ›å»ºå¯¼èˆªå›¾</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æµè§ˆå¯¼èˆªç¼–è¾‘å™¨"><span class="nav-number">2.3.</span> <span class="nav-text">æµè§ˆå¯¼èˆªç¼–è¾‘å™¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åˆ›å»ºç›®çš„åœ°"><span class="nav-number">2.4.</span> <span class="nav-text">åˆ›å»ºç›®çš„åœ°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è¿æ¥ç›®çš„åœ°"><span class="nav-number">2.5.</span> <span class="nav-text">è¿æ¥ç›®çš„åœ°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å°†å±å¹•æŒ‡å®šä¸ºèµ·å§‹ç›®çš„åœ°"><span class="nav-number">2.6.</span> <span class="nav-text">å°†å±å¹•æŒ‡å®šä¸ºèµ·å§‹ç›®çš„åœ°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¿®æ”¹æ´»åŠ¨ä»¥ä¸»æŒå¯¼èˆª"><span class="nav-number">2.7.</span> <span class="nav-text">ä¿®æ”¹æ´»åŠ¨ä»¥ä¸»æŒå¯¼èˆª</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ä½¿ç”¨å¸ƒå±€ç¼–è¾‘å™¨æ·»åŠ NavHostFragment"><span class="nav-number">2.7.1.</span> <span class="nav-text">ä½¿ç”¨å¸ƒå±€ç¼–è¾‘å™¨æ·»åŠ NavHostFragment</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºNavHostFragment"><span class="nav-number">2.8.</span> <span class="nav-text">ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºNavHostFragment</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å°†ç›®æ ‡ç»‘å®šåˆ°uiå°éƒ¨ä»¶"><span class="nav-number">2.9.</span> <span class="nav-text">å°†ç›®æ ‡ç»‘å®šåˆ°uiå°éƒ¨ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¸ºç›®æ ‡åˆ›å»ºæ·±å±‚é“¾æ¥"><span class="nav-number">2.10.</span> <span class="nav-text">ä¸ºç›®æ ‡åˆ›å»ºæ·±å±‚é“¾æ¥</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ä¸ºç›®æ ‡åˆ†é…æ·±å±‚é“¾æ¥"><span class="nav-number">2.10.1.</span> <span class="nav-text">ä¸ºç›®æ ‡åˆ†é…æ·±å±‚é“¾æ¥</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ä¸ºæ·±å±‚é“¾æ¥æ·»åŠ æ„å›¾è¿‡æ»¤å™¨"><span class="nav-number">2.10.2.</span> <span class="nav-text">ä¸ºæ·±å±‚é“¾æ¥æ·»åŠ æ„å›¾è¿‡æ»¤å™¨</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ä»¥ç¼–ç¨‹æ–¹å¼ä½¿ç”¨NavDeepLinkBuilderåˆ›å»ºæ·±å±‚é“¾æ¥"><span class="nav-number">2.10.3.</span> <span class="nav-text">ä»¥ç¼–ç¨‹æ–¹å¼ä½¿ç”¨NavDeepLinkBuilderåˆ›å»ºæ·±å±‚é“¾æ¥</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#åœ¨ç›®çš„åœ°ä¹‹é—´åˆ›å»ºè¿‡æ¸¡"><span class="nav-number">2.10.4.</span> <span class="nav-text">åœ¨ç›®çš„åœ°ä¹‹é—´åˆ›å»ºè¿‡æ¸¡</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#åœ¨Fragmentç›®æ ‡ä¹‹é—´æ·»åŠ å…±äº«å…ƒç´ è½¬æ¢"><span class="nav-number">2.10.5.</span> <span class="nav-text">åœ¨Fragmentç›®æ ‡ä¹‹é—´æ·»åŠ å…±äº«å…ƒç´ è½¬æ¢</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Activityç›®æ ‡å…±äº«å…ƒç´ è½¬æ¢"><span class="nav-number">2.10.6.</span> <span class="nav-text">Activityç›®æ ‡å…±äº«å…ƒç´ è½¬æ¢</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#é¡¶éƒ¨åº”ç”¨æ "><span class="nav-number">2.11.</span> <span class="nav-text">é¡¶éƒ¨åº”ç”¨æ </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#AppBarConfiguration"><span class="nav-number">2.12.</span> <span class="nav-text">AppBarConfiguration</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åˆ›å»ºToolbar"><span class="nav-number">2.13.</span> <span class="nav-text">åˆ›å»ºToolbar</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åŒ…æ‹¬CollapsingToolbarLayout"><span class="nav-number">2.14.</span> <span class="nav-text">åŒ…æ‹¬CollapsingToolbarLayout</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Action-bar"><span class="nav-number">2.15.</span> <span class="nav-text">Action bar</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å°†ç›®çš„åœ°ç»‘å®šåˆ°èœå•é¡¹"><span class="nav-number">2.16.</span> <span class="nav-text">å°†ç›®çš„åœ°ç»‘å®šåˆ°èœå•é¡¹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ·»åŠ å¯¼èˆªæŠ½å±‰"><span class="nav-number">2.17.</span> <span class="nav-text">æ·»åŠ å¯¼èˆªæŠ½å±‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åº•éƒ¨å¯¼èˆª"><span class="nav-number">2.18.</span> <span class="nav-text">åº•éƒ¨å¯¼èˆª</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åµŒå¥—å¯¼èˆªå›¾"><span class="nav-number">3.</span> <span class="nav-text">åµŒå¥—å¯¼èˆªå›¾</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½¿ç”¨å¼•ç”¨å…¶ä»–å¯¼èˆªå›¾"><span class="nav-number">3.1.</span> <span class="nav-text">ä½¿ç”¨å¼•ç”¨å…¶ä»–å¯¼èˆªå›¾</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ•°æ®ä¼ é€’"><span class="nav-number">4.</span> <span class="nav-text">æ•°æ®ä¼ é€’</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å®šä¹‰ç›®æ ‡å‚æ•°"><span class="nav-number">4.1.</span> <span class="nav-text">å®šä¹‰ç›®æ ‡å‚æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è¦†ç›–æ“ä½œä¸­çš„ç›®æ ‡å‚æ•°"><span class="nav-number">4.2.</span> <span class="nav-text">è¦†ç›–æ“ä½œä¸­çš„ç›®æ ‡å‚æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½¿ç”¨Safe-Argsä¼ é€’ç±»å‹å®‰å…¨çš„æ•°æ®"><span class="nav-number">4.3.</span> <span class="nav-text">ä½¿ç”¨Safe Argsä¼ é€’ç±»å‹å®‰å…¨çš„æ•°æ®</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ä½¿ç”¨å…·æœ‰å…¨å±€æ“ä½œçš„Safe-Args"><span class="nav-number">4.3.1.</span> <span class="nav-text">ä½¿ç”¨å…·æœ‰å…¨å±€æ“ä½œçš„Safe Args</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½¿ç”¨Bundleå¯¹è±¡åœ¨ç›®æ ‡ä¹‹é—´ä¼ é€’æ•°æ®"><span class="nav-number">4.4.</span> <span class="nav-text">ä½¿ç”¨Bundleå¯¹è±¡åœ¨ç›®æ ‡ä¹‹é—´ä¼ é€’æ•°æ®</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ”¯æŒ"><span class="nav-number">5.</span> <span class="nav-text">æ”¯æŒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¡ä»¶å¯¼èˆª"><span class="nav-number">6.</span> <span class="nav-text">æ¡ä»¶å¯¼èˆª</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å…¨å±€å¯¼èˆª"><span class="nav-number">7.</span> <span class="nav-text">å…¨å±€å¯¼èˆª</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åˆ›å»ºä¸€ä¸ªå…¨å±€è¡ŒåŠ¨"><span class="nav-number">7.1.</span> <span class="nav-text">åˆ›å»ºä¸€ä¸ªå…¨å±€è¡ŒåŠ¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½¿ç”¨å…¨å±€æ“ä½œ"><span class="nav-number">7.2.</span> <span class="nav-text">ä½¿ç”¨å…¨å±€æ“ä½œ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è¿ç§»åˆ°å¯¼èˆª"><span class="nav-number">8.</span> <span class="nav-text">è¿ç§»åˆ°å¯¼èˆª</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CallteFoot</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
